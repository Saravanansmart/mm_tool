<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GYW0708DQY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GYW0708DQY');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculate your income tax for FY 2025-26 (AY 2026-27) with our free India Income Tax Calculator. Compare old and new tax regimes, claim deductions (80C, 80E, 80D, 80CCD(1B), HRA, 80TTA, 80TTB), and plan for ITR filing deadlines. Optimize your tax savings today!">
    <meta name="keywords" content="income tax calculator India, tax calculator FY 2025-26, old vs new tax regime 2025, Section 80C deduction calculator, Section 80E interest calculator, Section 80D health insurance deduction, HRA exemption calculator, NPS deduction calculator, ITR filing 2025, tax planning India 2025, tax savings calculator 2025, Section 80TTB deduction, online tax calculator India, income tax slab 2025, personal finance tools India, tax liability calculator, tax refund calculator India, financial planning calculator 2025">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Financial Calculators">
+    <link rel="canonical" href="https://moneymindtool.com/income-tax.html">
    <title>Income Tax Calculator India FY 2025-26 - Optimize Tax Savings</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Chart.js CDN -->
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(180deg, #E8F0FE, #F9FAFB);
            min-height: 100vh;
            color: #4B5EAA;
            line-height: 1.6;
        }
        header {
            background: #2A3EB1;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background: #F9FAFB;
            min-width: 220px;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            z-index: 1000;
            top: 100%;
            right: 0;
            scrollbar-width: thin;
            scrollbar-color: #F57C00 #E8F0FE;
        }
        .dropdown-content::-webkit-scrollbar {
            width: 6px;
        }
        .dropdown-content::-webkit-scrollbar-track {
            background: #E8F0FE;
            border-radius: 8px;
        }
        .dropdown-content::-webkit-scrollbar-thumb {
            background: #F57C00;
            border-radius: 8px;
        }
        .dropdown-content::-webkit-scrollbar-thumb:hover {
            background: #E65100;
        }
        .dropdown-content a {
            color: #4B5EAA;
            padding: 12px 16px;
            display: block;
            font-weight: 400;
            text-decoration: none;
            transition: background 0.2s ease, color 0.2s ease;
        }
        .dropdown-content a:hover {
            background: #E8F0FE;
            color: #F57C00;
        }
        .dropdown:hover .dropdown-content, .dropdown:focus-within .dropdown-content {
            display: block;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            cursor: help;
            outline: none;
        }
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translate(-50%, -100%);
            background: #2A3EB1;
            color: #FFFFFF;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
            z-index: 10;
        }
        .tooltip:hover::after, .tooltip:focus::after {
            opacity: 1;
            visibility: visible;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: scaleIn 0.3s ease;
        }
        .modal.show {
            display: flex;
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.2s ease;
        }
        .modal.show .modal-content {
            transform: scale(1);
        }
        .chart-container {
            max-width: 600px;
            margin: 20px auto;
            height: 300px;
        }
        .past-deadline {
            color: #D32F2F;
        }
        .penalty {
            font-weight: 600;
        }
        select {
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%234B5EAA" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 16px;
            padding-right: 30px;
            cursor: pointer;
        }
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        button.loading::after {
            content: '';
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #FFFFFF;
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 8px;
            vertical-align: middle;
        }
        @media (max-width: 768px) {
            .dropdown-content {
                min-width: 180px;
                max-height: 250px;
            }
            .chart-container {
                max-width: 100%;
                height: 250px;
            }
            select {
                background-size: 14px;
            }
        }
    </style>
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Income Tax Calculator India FY 2025-26",
      "description": "Calculate your income tax for FY 2025-26 (AY 2026-27) with our free India Income Tax Calculator. Compare old and new tax regimes, claim deductions (80C, 80E, 80D, 80CCD(1B), HRA, 80TTA, 80TTB), and plan for ITR filing deadlines.",
      "url": "https://moneymindtool.com/income-tax.html",
      "applicationCategory": "Financial",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What are the tax slabs for FY 2025-26?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Old regime: Varies by age (e.g., up to ₹2.5 lakh exempt for below 60). New regime: Up to ₹3 lakh exempt, ₹60,000 rebate up to ₹12 lakh."
          }
        },
        {
          "@type": "Question",
          "name": "What is Section 80C deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80C allows deductions up to ₹1.5 lakh for investments like PPF, ELSS, NSC, and life insurance premiums, available only under the old tax regime."
          }
        },
        {
          "@type": "Question",
          "name": "Who can claim Section 80E deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Individuals repaying education loan interest can claim Section 80E deductions under the old regime, with no upper limit, for up to 8 years."
          }
        },
        {
          "@type": "Question",
          "name": "What expenses are covered under Section 80D?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80D covers health insurance premiums and preventive health check-ups, up to ₹25,000 for self/spouse and ₹50,000 for senior citizen parents, under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "What is NPS deduction under Section 80CCD(1B)?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80CCD(1B) allows an additional ₹50,000 deduction for contributions to the National Pension System (NPS), available under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "How does HRA exemption work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "HRA exemption under the old regime reduces taxable income based on rent paid, HRA received, basic salary, and city type (metro/non-metro), calculated as per Income Tax rules."
          }
        },
        {
          "@type": "Question",
          "name": "What is Section 80TTA deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80TTA allows deductions up to ₹10,000 on savings account interest for individuals below 60, available under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "What is Section 80TTB deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80TTB allows deductions up to ₹50,000 on savings and fixed deposit interest for senior citizens (age 60 or above), available under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "Can I claim Section 80E with the new regime?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No, Section 80E deductions are available only under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "What is the ITR filing deadline for FY 2025-26?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "July 31, 2025, for non-audit cases for FY 2025-26. Late filing incurs a ₹5,000 penalty under Section 234F."
          }
        },
        {
          "@type": "Question",
          "name": "What is advance tax and who needs to pay it?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Advance tax is tax paid on income as it is earned, due in installments (e.g., March 15, 2025). Individuals with tax liability exceeding ₹10,000 in a year must pay it, except senior citizens not running a business."
          }
        },
        {
          "@type": "Question",
          "name": "What happens if I miss the ITR filing deadline?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Late filing by December 31, 2025, incurs a ₹5,000 penalty (₹1,000 for income below ₹5 lakh) under Section 234F. You may also face interest under Section 234A and lose certain deductions."
          }
        },
        {
          "@type": "Question",
          "name": "Can I switch between old and new tax regimes?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, salaried individuals can switch regimes each year when filing ITR. Business/professional taxpayers opting out of the new regime can revert only once."
          }
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to Calculate Income Tax in India for FY 2025-26",
      "description": "Step-by-step guide to calculate your income tax using our free India Income Tax Calculator for FY 2025-26.",
      "step": [
        {
          "@type": "HowToStep",
          "text": "Select your age group (below 60, 60–80, above 80).",
          "position": 1
        },
        {
          "@type": "HowToStep",
          "text": "Enter gross salary, other income, and HRA details (basic salary, rent paid, HRA received, city type).",
          "position": 2
        },
        {
          "@type": "HowToStep",
          "text": "Input deductions (80C, 80E, 80D, 80CCD(1B), 80TTA, 80TTB).",
          "position": 3
        },
        {
          "@type": "HowToStep",
          "text": "Click 'Calculate' to compare tax under old and new regimes.",
          "position": 4
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Income Tax Calculator India",
      "applicationCategory": "FinancialApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      },
      "description": "Free online Income Tax Calculator for FY 2025-26 to compare old and new tax regimes, claim deductions, and plan tax savings in India."
    }
    </script>
</head>
<body>
    <header class="sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-white">Financial Calculators</h1>
            <nav class="flex space-x-4">               <a href="https://moneymindtool.com/index.html" class="text-white hover:text-orange-500 font-medium" aria-label="Go to Home">Home</a>
                <div class="relative dropdown">
                    <a href="https://moneymindtool.com/all-calculators.html" class="text-white hover:text-orange-500 font-medium" aria-expanded="false" aria-label="View All Calculators">Calculators</a>
                    <div class="dropdown-content">
                        <a href="https://moneymindtool.com/all-calculators.html" aria-label="All Calculators">All Calculators</a>
                        <a href="https://moneymindtool.com/income-tax.html" aria-label="Income Tax Calculator">Income Tax Calculator</a>
                        <a href="https://moneymindtool.com/simple-interest.html" aria-label="Simple Interest Calculator">Simple Interest Calculator</a>
                        <a href="https://moneymindtool.com/fixed-deposit.html" aria-label="Fixed Deposit Calculator">Fixed Deposit Calculator</a>
                        <a href="https://moneymindtool.com/recurring-deposit.html" aria-label="Recurring Deposit Calculator">Recurring Deposit Calculator</a>
                        <a href="https://moneymindtool.com/educational-loan.html" aria-label="Educational Loan EMI Calculator">Educational Loan EMI Calculator</a>
                        <a href="https://moneymindtool.com/personal-loan.html" aria-label="Personal Loan EMI Calculator">Personal Loan EMI Calculator</a>
                        <a href="https://moneymindtool.com/sip.html" aria-label="SIP Calculator">SIP Calculator</a>
                        <a href="https://moneymindtool.com/compound-interest.html" aria-label="Compound Interest Calculator">Compound Interest Calculator</a>
                        <a href="https://moneymindtool.com/ppf.html" aria-label="PPF Calculator">PPF Calculator</a>
                        <a href="https://moneymindtool.com/nps.html" aria-label="NPS Calculator">NPS Calculator</a>
                        <a href="https://moneymindtool.com/hra.html" aria-label="HRA Exemption Calculator">HRA Exemption Calculator</a>
                        <a href="https://moneymindtool.com/gratuity.html" aria-label="Gratuity Calculator">Gratuity Calculator</a>
                        <a href="https://moneymindtool.com/loanemi.html" aria-label="Loan EMI Calculator">Loan EMI Calculator</a>
                        <a href="https://moneymindtool.com/home-loan.html" aria-label="Home EMI Calculator">Home EMI Calculator</a>
                        <a href="https://moneymindtool.com/capital-gains.html" aria-label="Capital Gains Calculator">Capital Gains Calculator</a>
                        <a href="https://moneymindtool.com/gst-calculator.html" aria-label="GST Interest & Late Fee Calculator">GST Interest & Late Fee Calculator</a>
                        <a href="https://moneymindtool.com/retirement.html" aria-label="Retirement Planning Calculator">Retirement Planning Calculator</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-3xl font-bold text-indigo-900 text-center mb-6"><i class="fas fa-calculator mr-2"></i>Income Tax Calculator FY 2025-26</h1>
        <section class="bg-white rounded-lg shadow-md p-6 mb-6 text-center">
            <p class="text-gray-600 mb-4">Plan your taxes with our free Income Tax Calculator for FY 2025-26 (AY 2026-27), tailored for Indian taxpayers. Compare the <strong>old and new tax regimes</strong>, claim deductions like Section 80C, 80E, 80D, 80CCD(1B), HRA, 80TTA, and 80TTB, and stay on top of ITR filing deadlines. Whether you're a salaried professional, freelancer, or senior citizen, our tool helps you optimize tax savings and make informed financial decisions. Explore related tools like our <a href="https://moneymindtool.com/educational-loan.html" class="text-indigo-900 hover:text-orange-500">Education Loan EMI Calculator</a> or <a href="https://moneymindtool.com/home-loan.html" class="text-indigo-900 hover:text-orange-500">Home Loan EMI Calculator</a> for comprehensive financial planning.</p>
            <a href="https://moneymindtool.com/all-calculators.html" class="text-indigo-900 hover:text-orange-500 font-semibold" aria-label="Back to All Calculators">Back to All Calculators</a>
        </section>
        <section class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-indigo-900 mb-4 text-center"><i class="fas fa-calendar-alt mr-2"></i>Tax Filing Deadlines (2025)</h2>
            <span class="text-indigo-900 cursor-pointer hover:text-orange-500 block text-center mb-2 toggle-deadlines" tabindex="0" role="button" aria-label="Toggle Tax Filing Deadlines">Show Deadlines</span>
            <div id="deadlinesList" class="hidden text-gray-800 max-w-xl mx-auto">
                <ul class="list-disc pl-5">
                    <li id="past-advance-tax"><strong>Advance Tax (Final, FY 2024-25)</strong>: Due March 15, 2025. <span class="penalty">Penalty: 1% interest per month under Section 234C for late payment.</span></li>
                    <li id="itr-filing"><strong>ITR Filing (Non-Audit, FY 2025-26)</strong>: July 31, 2025. File at <a href="https://www.incometax.gov.in" target="_blank" class="text-indigo-900 hover:text-orange-500" aria-label="Visit Income Tax India website">incometax.gov.in</a>.</li>
                    <li id="pm-vidyalaxmi"><strong>PM-Vidyalaxmi (Education Loan)</strong>: Apply by August 31, 2025, at <a href="https://pmvidyalaxmi.co.in" target="_blank" class="text-indigo-900 hover:text-orange-500" aria-label="Visit PM-Vidyalaxmi website">pmvidyalaxmi.co.in</a>.</li>
                </ul>
            </div>
        </section>
        <section class="bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-50">
            <h2 class="text-xl font-semibold text-indigo-900 mb-4"><i class="fas fa-calculator mr-2"></i>Calculate Your Income Tax</h2>
            <div class="w-full bg-indigo-100 rounded-full h-2 mb-4">
                <div id="taxProgress" class="bg-orange-500 h-2 rounded-full" style="width: 0;"></div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="ageGroup" class="block text-gray-800 font-medium">Age Group: <span class="tooltip" data-tooltip="Select your age for tax slab applicability" tabindex="0" aria-label="Tooltip: Select your age for tax slab applicability">?</span></label>
                    <select id="ageGroup" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 bg-white" aria-label="Select Age Group">
                        <option value="below60" selected>Below 60</option>
                        <option value="60to80">60 to 80</option>
                        <option value="above80">Above 80</option>
                    </select>
                </div>
                <div>
                    <label for="grossSalary" class="block text-gray-800 font-medium">Gross Salary (₹): <span class="tooltip" data-tooltip="Annual salary before exemptions" tabindex="0" aria-label="Tooltip: Annual salary before exemptions">?</span></label>
                    <input type="number" id="grossSalary" min="0" value="1000000" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Gross Salary in Rupees">
                </div>
                <div>
                    <label for="otherIncome" class="block text-gray-800 font-medium">Other Income (₹): <span class="tooltip" data-tooltip="Rental, interest, capital gains, etc." tabindex="0" aria-label="Tooltip: Rental, interest, capital gains, etc.">?</span></label>
                    <input type="number" id="otherIncome" min="0" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Other Income in Rupees">
                </div>
                <div>
                    <label for="basicSalary" class="block text-gray-800 font-medium">Basic Salary (₹): <span class="tooltip" data-tooltip="Basic salary for HRA calculation" tabindex="0" aria-label="Tooltip: Basic salary for HRA calculation">?</span></label>
                    <input type="number" id="basicSalary" min="0" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Basic Salary in Rupees">
                </div>
                <div>
                    <label for="hraReceived" class="block text-gray-800 font-medium">HRA Received (₹): <span class="tooltip" data-tooltip="HRA component in salary" tabindex="0" aria-label="Tooltip: HRA component in salary">?</span></label>
                    <input type="number" id="hraReceived" min="0" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="HRA Received in Rupees">
                </div>
                <div>
                    <label for="rentPaid" class="block text-gray-800 font-medium">Rent Paid (₹): <span class="tooltip" data-tooltip="Annual rent paid for HRA exemption" tabindex="0" aria-label="Tooltip: Annual rent paid for HRA exemption">?</span></label>
                    <input type="number" id="rentPaid" min="0" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Rent Paid in Rupees">
                </div>
                <div>
                    <label for="cityType" class="block text-gray-800 font-medium">City Type: <span class="tooltip" data-tooltip="Metro (50%) or Non-Metro (40%) for HRA" tabindex="0" aria-label="Tooltip: Metro (50%) or Non-Metro (40%) for HRA">?</span></label>
                    <select id="cityType" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 bg-white" aria-label="Select City Type">
                        <option value="metro">Metro</option>
                        <option value="non-metro">Non-Metro</option>
                    </select>
                </div>
                <div>
                    <label for="section80C" class="block text-gray-800 font-medium">Section 80C Deduction (₹): <span class="tooltip" data-tooltip="Up to ₹1.5 lakh (PPF, ELSS, etc.)" tabindex="0" aria-label="Tooltip: Up to ₹1.5 lakh (PPF, ELSS, etc.)">?</span></label>
                    <input type="number" id="section80C" min="0" max="150000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80C Deduction">
                </div>
                <div>
                    <label for="section80E" class="block text-gray-800 font-medium">Section 80E Interest (₹): <span class="tooltip" data-tooltip="Education loan interest (old regime)" tabindex="0" aria-label="Tooltip: Education loan interest (old regime)">?</span></label>
                    <input type="number" id="section80E" min="0" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80E Interest">
                </div>
                <div>
                    <label for="section80D" class="block text-gray-800 font-medium">Section 80D Deduction (₹): <span class="tooltip" data-tooltip="Health insurance premium (up to ₹25,000 for self/spouse, ₹50,000 for senior citizen parents)" tabindex="0" aria-label="Tooltip: Health insurance premium (up to ₹25,000 for self/spouse, ₹50,000 for senior citizen parents)">?</span></label>
                    <input type="number" id="section80D" min="0" max="75000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80D Deduction">
                </div>
                <div>
                    <label for="npsDeduction" class="block text-gray-800 font-medium">NPS Deduction (₹): <span class="tooltip" data-tooltip="Section 80CCD(1B), up to ₹50,000" tabindex="0" aria-label="Tooltip: Section 80CCD(1B), up to ₹50,000">?</span></label>
                    <input type="number" id="npsDeduction" min="0" max="50000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="NPS Deduction">
                </div>
                <div>
                    <label for="section80TTA" class="block text-gray-800 font-medium">Section 80TTA Deduction (₹): <span class="tooltip" data-tooltip="Savings account interest (up to ₹10,000, below 60)" tabindex="0" aria-label="Tooltip: Savings account interest (up to ₹10,000, below 60)">?</span></label>
                    <input type="number" id="section80TTA" min="0" max="10000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80TTA Deduction">
                </div>
                <div>
                    <label for="section80TTB" class="block text-gray-800 font-medium">Section 80TTB Deduction (₹): <span class="tooltip" data-tooltip="Savings/FD interest for senior citizens (up to ₹50,000)" tabindex="0" aria-label="Tooltip: Savings/FD interest for senior citizens (up to ₹50,000)">?</span></label>
                    <input type="number" id="section80TTB" min="0" max="50000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80TTB Deduction">
                </div>
            </div>
            <div class="flex gap-4 mt-4 justify-center">
                <button id="calcButton" onclick="calcTax()" disabled class="bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 disabled:bg-gray-400 transition-all duration-200" aria-label="Calculate Tax">Calculate</button>
                <button onclick="resetForm()" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-all duration-200" aria-label="Reset Form">Reset</button>
            </div>
            <p class="text-sm text-gray-600 mt-2 text-center">Enter income and deductions to compare tax under old and new regimes for FY 2025-26. Results are estimates; consult a tax professional for personalized advice.</p>
        </section>
        <section class="bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-50 hidden" id="resultsCard">
            <div id="errorMessage" class="text-red-600 hidden mb-4 text-center"></div>
            <div id="taxResult" class="text-gray-800 mb-4 text-center"></div>
            <div class="chart-container">
                <canvas id="taxChart"></canvas>
            </div>
            <div class="text-center mt-4">
                <button onclick="resetForm()" class="bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-all duration-200" aria-label="Calculate Again">Calculate Again</button>
            </div>
        </section>
        <section class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-2xl font-semibold text-indigo-900 text-center mb-4"><i class="fas fa-info-circle mr-2"></i>Understanding Tax Deductions</h2>
            <div class="space-y-6">
                <div class="deduction-item">
                    <h3 class="text-lg font-semibold text-indigo-900">Section 80C Deduction</h3>
                    <p class="text-gray-600">Section 80C allows deductions up to ₹1.5 lakh for investments and expenses like Public Provident Fund (PPF), Equity-Linked Savings Scheme (ELSS), National Savings Certificate (NSC), life insurance premiums, and tuition fees. Available only under the old tax regime, it’s a popular way to reduce taxable income.</p>
                    <div class="faq-item mt-4">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">What qualifies for Section 80C?</h4>
                        <p class="text-gray-600">Eligible investments include PPF, ELSS, NSC, 5-year fixed deposits, and life insurance premiums. Expenses like children’s tuition fees and home loan principal repayment also qualify.</p>
                    </div>
                    <div class="faq-item">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Is there a limit for Section 80C?</h4>
                        <p class="text-gray-600">Yes, the maximum deduction is ₹1.5 lakh per year, combining all eligible investments and expenses.</p>
                    </div>
                </div>
                <div class="deduction-item">
                    <h3 class="text-lg font-semibold text-indigo-900">Section 80E Deduction</h3>
                    <p class="text-gray-600">Section 80E allows deductions on interest paid on education loans for higher education (self, spouse, or children). There’s no upper limit, but the deduction is available for up to 8 years, only under the old regime.</p>
                    <div class="faq-item mt-4">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Who is eligible for Section 80E?</h4>
                        <p class="text-gray-600">Individuals repaying education loans for higher education (in India or abroad) can claim this deduction. The loan must be from a recognized financial institution.</p>
                    </div>
                    <div class="faq-item">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Does Section 80E cover principal repayment?</h4>
                        <p class="text-gray-600">No, only the interest component of the education loan is deductible under Section 80E.</p>
                    </div>
                </div>
                <div class="deduction-item">
                    <h3 class="text-lg font-semibold text-indigo-900">Section 80D Deduction</h3>
                    <p class="text-gray-600">Section 80D covers health insurance premiums and preventive health check-ups, up to ₹25,000 for self/spouse and ₹50,000 for parents (if senior citizens). Available under the old regime, it promotes health and tax savings.</p>
                    <div class="faq-item mt-4">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">What expenses qualify for Section 80D?</h4>
                        <p class="text-gray-600">Health insurance premiums for self, spouse, children, or parents, and preventive health check-ups (up to ₹5,000 within the limit) are eligible.</p>
                    </div>
                    <div class="faq-item">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Can I claim Section 80D for senior citizen parents?</h4>
                        <p class="text-gray-600">Yes, you can claim up to ₹50,000 for health insurance premiums and check-ups for parents aged 60 or above.</p>
                    </div>
                </div>
                <div class="deduction-item">
                    <h3 class="text-lg font-semibold text-indigo-900">NPS Deduction (Section 80CCD(1B))</h3>
                    <p class="text-gray-600">Section 80CCD(1B) allows an additional ₹50,000 deduction for contributions to the National Pension System (NPS), over and above Section 80C. Available under the old regime, it’s ideal for long-term retirement planning.</p>
                    <div class="faq-item mt-4">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Who can claim Section 80CCD(1B)?</h4>
                        <p class="text-gray-600">Individuals contributing to the National Pension System (NPS), including salaried and self-employed taxpayers, can claim this additional deduction.</p>
                    </div>
                    <div class="faq-item">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Is Section 80CCD(1B) part of the ₹1.5 lakh limit?</h4>
                        <p class="text-gray-600">No, this is an additional deduction of up to ₹50,000, separate from the ₹1.5 lakh limit under Section 80C.</p>
                    </div>
                </div>
                <div class="deduction-item">
                    <h3 class="text-lg font-semibold text-indigo-900">HRA Exemption</h3>
                    <p class="text-gray-600">House Rent Allowance (HRA) exemption reduces taxable income for salaried individuals living in rented accommodation. The exemption is the minimum of: HRA received, actual rent paid minus 10% of basic salary, or 50% of basic salary (metro cities) / 40% (non-metro). Available only under the old regime.</p>
                    <div class="faq-item mt-4">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">How is HRA exemption calculated?</h4>
                        <p class="text-gray-600">HRA exemption is the minimum of: actual HRA received, rent paid minus 10% of basic salary, or 50%/40% of basic salary (metro/non-metro). You need rent receipts and landlord PAN for claims.</p>
                    </div>
                    <div class="faq-item">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Can I claim HRA without receiving HRA?</h4>
                        <p class="text-gray-600">No, HRA exemption is available only if your salary includes an HRA component and you pay rent.</p>
                    </div>
                </div>
                <div class="deduction-item">
                    <h3 class="text-lg font-semibold text-indigo-900">Section 80TTA Deduction</h3>
                    <p class="text-gray-600">Section 80TTA allows deductions up to ₹10,000 on interest earned from savings accounts for individuals below 60. Available under the old regime, it helps reduce taxable income from bank interest.</p>
                    <div class="faq-item mt-4">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Who is eligible for Section 80TTA?</h4>
                        <p class="text-gray-600">Individuals and HUFs below 60 years can claim this deduction on savings account interest from banks, post offices, or co-operative societies.</p>
                    </div>
                    <div class="faq-item">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Does Section 80TTA apply to fixed deposit interest?</h4>
                        <p class="text-gray-600">No, it applies only to savings account interest, not fixed deposits or other investments.</p>
                    </div>
                </div>
                <div class="deduction-item">
                    <h3 class="text-lg font-semibold text-indigo-900">Section 80TTB Deduction</h3>
                    <p class="text-gray-600">Section 80TTB allows deductions up to ₹50,000 on interest earned from savings accounts and fixed deposits for senior citizens (age 60 or above). Available under the old regime, it replaces Section 80TTA for senior citizens.</p>
                    <div class="faq-item mt-4">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Who is eligible for Section 80TTB?</h4>
                        <p class="text-gray-600">Senior citizens (age 60 or above) can claim this deduction on interest from savings accounts and fixed deposits with banks, post offices, or co-operative societies.</p>
                    </div>
                    <div class="faq-item">
                        <h4 class="text-md font-semibold text-indigo-900 cursor-pointer">Does Section 80TTB apply to non-senior citizens?</h4>
                        <p class="text-gray-600">No, non-senior citizens (below 60) can claim Section 80TTA instead, up to ₹10,000 for savings account interest.</p>
                    </div>
                </div>
            </div>
        </section>
        <section class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-2xl font-semibold text-indigo-900 text-center mb-4"><i class="fas fa-question-circle mr-2"></i>Frequently Asked Questions</h2>
            <div class="space-y-4">
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What are the tax slabs for FY 2025-26?</h3>
                    <p class="text-gray-600">Old regime: Varies by age (e.g., up to ₹2.5 lakh exempt for below 60). New regime: Up to ₹3 lakh exempt, ₹60,000 rebate up to ₹12 lakh.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">Can I claim Section 80E with the new regime?</h3>
                    <p class="text-gray-600">No, Section 80E deductions are available only under the old regime.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What is the ITR filing deadline for FY 2025-26?</h3>
                    <p class="text-gray-600">July 31, 2025, for non-audit cases for FY 2025-26. Late filing incurs a ₹5,000 penalty under Section 234F.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What is advance tax and who needs to pay it?</h3>
                    <p class="text-gray-600">Advance tax is tax paid on income as it is earned, due in installments (e.g., March 15, 2025). Individuals with tax liability exceeding ₹10,000 in a year must pay it, except senior citizens not running a business.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What happens if I miss the ITR filing deadline?</h3>
                    <p class="text-gray-600">Late filing by December 31, 2025, incurs a ₹5,000 penalty (₹1,000 for income below ₹5 lakh) under Section 234F. You may also face interest under Section 234A and lose certain deductions.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">Can I switch between old and new tax regimes?</h3>
                    <p class="text-gray-600">Yes, salaried individuals can switch regimes each year when filing ITR. Business/professional taxpayers opting out of the new regime can revert only once.</p>
                </div>
            </div>
        </section>
    </main>
    <div id="disclaimerModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full">
            <span class="close absolute top-4 right-4 text-2xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('disclaimerModal')" aria-label="Close Disclaimer Modal">×</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Disclaimer</h3>
            <p class="text-gray-600">Calculators are for informational purposes only. Results are estimates and do not account for individual circumstances or regulations. Consult a tax professional for personalized advice.</p>
        </div>
    </div>
    <div id="termsModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full">
            <span class="close absolute top-4 right-4 text-2xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('termsModal')" aria-label="Close Terms Modal">×</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Terms and Conditions</h3>
            <p class="text-gray-600">By using this website, you agree to these Terms and Conditions. Calculators are for personal, non-commercial use. You must provide accurate inputs; we are not responsible for errors due to incorrect data. The website and its content are owned by Financial Calculators and protected by intellectual property laws. Usage is governed by Indian laws.</p>
        </div>
    </div>
    <footer class="bg-indigo-900 text-white text-center py-6">
        <div class="flex justify-center space-x-4">
            <a href="https://moneymindtool.com/income-tax.html" class="hover:text-orange-500" aria-label="Income Tax Calculator">Income Tax Calculator</a>
            <span>|</span>
            <a href="https://moneymindtool.com/educational-loan.html" class="hover:text-orange-500" aria-label="Education Loan Calculator">Education Loan Calculator</a>
            <span>|</span>
            <a href="https://moneymindtool.com/home-loan.html" class="hover:text-orange-500" aria-label="Home Loan Calculator">Home Loan Calculator</a>
            <span>|</span>
            <a href="#" onclick="openModal('disclaimerModal')" class="hover:text-orange-500" aria-label="View Disclaimer">Disclaimer</a>
            <span>|</span>
            <a href="#" onclick="openModal('termsModal')" class="hover:text-orange-500" aria-label="View Terms and Conditions">Terms and Conditions</a>
        </div>
        <p class="mt-2 text-sm">© 2025 Financial Calculators. All Rights Reserved.</p>
    </footer>
    <script>
        // Chart.js Configuration
        const chartConfig = {
            type: 'bar',
            data: {
                labels: ['Old Regime', 'New Regime'],
                datasets: [{
                    label: 'Tax Liability (₹)',
                    data: [0, 0],
                    backgroundColor: ['#2A3EB1', '#F57C00'],
                    borderColor: ['#FFFFFF', '#FFFFFF'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, title: { display: true, text: 'Tax (₹)', color: '#4B5EAA', font: { family: 'Inter' } } }
                },
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'Tax Comparison', color: '#2A3EB1', font: { family: 'Inter', size: 16 } }
                }
            }
        };

        let taxChart;
        window.onload = function() {
            const ctx = document.getElementById('taxChart')?.getContext('2d');
            if (!ctx) {
                console.error('Canvas context for taxChart not found');
                return;
            }
            try {
                taxChart = new Chart(ctx, chartConfig);
            } catch (e) {
                console.error('Failed to initialize Chart.js:', e);
            }
            updateDeadlines();
            updateProgress();
            validateInputs();
            document.querySelectorAll('input, select').forEach(input => {
                input?.addEventListener('input', () => {
                    validateInputs();
                    updateProgress();
                });
            });
            document.querySelectorAll('.toggle-deadlines').forEach(btn => {
                btn?.addEventListener('click', toggleDeadlines);
                btn?.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleDeadlines();
                    }
                });
            });
            document.querySelectorAll('.faq-item h3, .faq-item h4').forEach(item => {
                item?.addEventListener('click', () => {
                    gtag('event', 'faq_click', {
                        event_category: 'FAQ',
                        event_label: item.textContent
                    });
                });
            });
            document.querySelectorAll('.dropdown-content a').forEach(link => {
                link?.addEventListener('click', () => {
                    gtag('event', 'dropdown_click', {
                        event_category: 'Navigation',
                        event_label: link.textContent
                    });
                });
            });
            document.querySelectorAll('.tooltip').forEach(tooltip => {
                tooltip?.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        tooltip.focus();
                    }
                });
            });
        };

        function formatIndianNumber(num) {
            if (isNaN(num) || num === null) return "0.00";
            let str = Number(num).toFixed(2).toString();
            let [integer, decimal] = str.split('.');
            let lastThree = integer.slice(-3);
            let otherDigits = integer.slice(0, -3);
            if (otherDigits) lastThree = ',' + lastThree;
            let result = otherDigits.replace(/\B(?=(\d{2})+(?!\d))/g, ',') + lastThree;
            return result + '.' + decimal;
        }

        function updateProgress() {
            const inputs = ['ageGroup', 'grossSalary', 'otherIncome', 'basicSalary', 'hraReceived', 'rentPaid', 'cityType', 'section80C', 'section80E', 'section80D', 'npsDeduction', 'section80TTA', 'section80TTB'];
            let filled = inputs.reduce((count, id) => count + (document.getElementById(id)?.value !== '' ? 1 : 0), 0);
            document.getElementById('taxProgress').style.width = `${(filled / inputs.length) * 100}%`;
        }

        function calculateHRAExemption(basicSalary, hraReceived, rentPaid, cityType) {
            if (!basicSalary || !hraReceived || !rentPaid) return 0;
            const hraPercentage = cityType === 'metro' ? 0.5 : 0.4;
            return Math.max(0, Math.min(
                hraReceived,
                rentPaid - 0.1 * basicSalary,
                hraPercentage * basicSalary
            ));
        }

        function validateInputs() {
            const ageGroup = document.getElementById('ageGroup').value;
            const salary = parseFloat(document.getElementById('grossSalary')?.value) || 0;
            const otherIncome = parseFloat(document.getElementById('otherIncome')?.value) || 0;
            const basicSalary = parseFloat(document.getElementById('basicSalary')?.value) || 0;
            const hraReceived = parseFloat(document.getElementById('hraReceived')?.value) || 0;
            const rentPaid = parseFloat(document.getElementById('rentPaid')?.value) || 0;
            const section80C = parseFloat(document.getElementById('section80C')?.value) || 0;
            const section80E = parseFloat(document.getElementById('section80E')?.value) || 0;
            const section80D = parseFloat(document.getElementById('section80D')?.value) || 0;
            const nps = parseFloat(document.getElementById('npsDeduction')?.value) || 0;
            const section80TTA = parseFloat(document.getElementById('section80TTA')?.value) || 0;
            const section80TTB = parseFloat(document.getElementById('section80TTB')?.value) || 0;

            const errorMessage = document.getElementById('errorMessage');
            const calcButton = document.getElementById('calcButton');
            const inputs = ['grossSalary', 'otherIncome', 'basicSalary', 'hraReceived', 'rentPaid', 'section80C', 'section80E', 'section80D', 'npsDeduction', 'section80TTA', 'section80TTB'];
            inputs.forEach(id => document.getElementById(id)?.classList.remove('border-red-600'));
            errorMessage.style.display = 'none';
            errorMessage.innerHTML = '';

            let errors = [];
            if (salary < 0) {
                errors.push('Gross salary cannot be negative.');
                document.getElementById('grossSalary')?.classList.add('border-red-600');
            }
            if (otherIncome < 0) {
                errors.push('Other income cannot be negative.');
                document.getElementById('otherIncome')?.classList.add('border-red-600');
            }
            if (basicSalary < 0) {
                errors.push('Basic salary cannot be negative.');
                document.getElementById('basicSalary')?.classList.add('border-red-600');
            }
            if (hraReceived < 0) {
                errors.push('HRA received cannot be negative.');
                document.getElementById('hraReceived')?.classList.add('border-red-600');
            }
            if (rentPaid < 0) {
                errors.push('Rent paid cannot be negative.');
                document.getElementById('rentPaid')?.classList.add('border-red-600');
            }
            if (section80C < 0 || section80C > 150000) {
                errors.push('Section 80C must be ₹0 to ₹1.5 lakh.');
                document.getElementById('section80C')?.classList.add('border-red-600');
            }
            if (section80E < 0) {
                errors.push('Section 80E cannot be negative.');
                document.getElementById('section80E')?.classList.add('border-red-600');
            }
            if (section80D < 0 || section80D > 75000) {
                errors.push('Section 80D must be ₹0 to ₹75,000.');
                document.getElementById('section80D')?.classList.add('border-red-600');
            }
            if (nps < 0 || nps > 50000) {
                errors.push('NPS deduction must be ₹0 to ₹50,000.');
                document.getElementById('npsDeduction')?.classList.add('border-red-600');
            }
            if (section80TTA < 0 || section80TTA > 10000) {
                errors.push('Section 80TTA must be ₹0 to ₹10,000.');
                document.getElementById('section80TTA')?.classList.add('border-red-600');
            }
            if (section80TTB < 0 || section80TTB > 50000) {
                errors.push('Section 80TTB must be ₹0 to ₹50,000.');
                document.getElementById('section80TTB')?.classList.add('border-red-600');
            }
            if (ageGroup !== 'below60' && section80TTA > 0) {
                errors.push('Section 80TTA is not applicable for age 60 or above.');
                document.getElementById('section80TTA')?.classList.add('border-red-600');
            }
            if (ageGroup === 'below60' && section80TTB > 0) {
                errors.push('Section 80TTB is only for senior citizens.');
                document.getElementById('section80TTB')?.classList.add('border-red-600');
            }

            if (errors.length > 0) {
                errorMessage.innerHTML = errors.join('<br>');
                errorMessage.style.display = 'block';
                document.getElementById('resultsCard').classList.remove('hidden');
                calcButton.disabled = true;
                return false;
            }

            calcButton.disabled = false;
            return true;
        }

        function calculateOldRegimeTax(taxableIncome, ageGroup) {
            if (taxableIncome <= 0) return 0;
            let tax = 0;
            let slabs;
            if (ageGroup === 'below60') {
                slabs = [
                    { limit: 250000, rate: 0 },
                    { limit: 500000, rate: 5 },
                    { limit: 1000000, rate: 20 },
                    { limit: Infinity, rate: 30 }
                ];
            } else if (ageGroup === '60to80') {
                slabs = [
                    { limit: 300000, rate: 0 },
                    { limit: 500000, rate: 5 },
                    { limit: 1000000, rate: 20 },
                    { limit: Infinity, rate: 30 }
                ];
            } else {
                slabs = [
                    { limit: 500000, rate: 0 },
                    { limit: 1000000, rate: 20 },
                    { limit: Infinity, rate: 30 }
                ];
            }

            let previousLimit = 0;
            for (let slab of slabs) {
                if (taxableIncome > previousLimit) {
                    let taxableAtThisRate = Math.min(taxableIncome, slab.limit) - previousLimit;
                    tax += taxableAtThisRate * (slab.rate / 100);
                    previousLimit = slab.limit;
                } else {
                    break;
                }
            }

            // Rebate under Section 87A
            if (taxableIncome <= 500000 && tax > 0) {
                tax = Math.max(0, tax - 12500);
            }

            // Surcharge
            let surcharge = 0;
            if (taxableIncome > 5000000 && taxableIncome <= 10000000) surcharge = tax * 0.10;
            else if (taxableIncome > 10000000 && taxableIncome <= 20000000) surcharge = tax * 0.15;
            else if (taxableIncome > 20000000 && taxableIncome <= 50000000) surcharge = tax * 0.25;
            else if (taxableIncome > 50000000) surcharge = tax * 0.37;

            // Health & Education Cess
            let cess = (tax + surcharge) * 0.04;
            return Math.round(tax + surcharge + cess);
        }

        function calculateNewRegimeTax(taxableIncome) {
            if (taxableIncome <= 0) return 0;
            let slabs = [
                { limit: 300000, rate: 0 },
                { limit: 700000, rate: 5 },
                { limit: 1000000, rate: 10 },
                { limit: 12000000, rate: 15 },
                { limit: 1500000, rate: 20 },
                { limit: Infinity, rate: 30 }
            ];

            let tax = 0;
            let previousLimit = 0;
            for (let slab of slabs) {
                if (taxableIncome > previousLimit) {
                    let taxableAtThisRate = Math.min(taxableIncome, slab.limit) - previousLimit;
                    tax += taxableAtThisRate * (slab.rate / 100);
                    previousLimit = slab.limit;
                } else {
                    break;
                }
            }

            // Rebate under Section 87A
            if (taxableIncome <= 700000) tax = Math.max(0, tax - 25000);

            // Surcharge
            let surcharge = 0;
            if (taxableIncome > 5000000 && taxableIncome <= 10000000) surcharge = tax * 0.10;
            else if (taxableIncome > 10000000 && taxableIncome <= 20000000) surcharge = tax * 0.15;
            else if (taxableIncome > 20000000 && taxableIncome <= 50000000) surcharge = tax * 0.25;
            else if (taxableIncome > 50000000) surcharge = tax * 0.37;

            // Health & Education Cess
            let cess = (tax + surcharge) * 0.04;
            return Math.round(tax + surcharge + cess);
        }

        function calcTax() {
            if (!validateInputs()) return;

            const calcButton = document.getElementById('calcButton');
            calcButton.classList.add('loading');
            setTimeout(() => {
                const ageGroup = document.getElementById('ageGroup').value;
                const grossSalary = parseFloat(document.getElementById('grossSalary').value) || 0;
                const otherIncome = parseFloat(document.getElementById('otherIncome').value) || 0;
                const basicSalary = parseFloat(document.getElementById('basicSalary').value) || 0;
                const hraReceived = parseFloat(document.getElementById('hraReceived').value) || 0;
                const rentPaid = parseFloat(document.getElementById('rentPaid').value) || 0;
                const cityType = document.getElementById('cityType').value;
                const section80C = parseFloat(document.getElementById('section80C').value) || 0;
                const section80E = parseFloat(document.getElementById('section80E').value) || 0;
                const section80D = parseFloat(document.getElementById('section80D').value) || 0;
                const npsDeduction = parseFloat(document.getElementById('npsDeduction').value) || 0;
                const section80TTA = parseFloat(document.getElementById('section80TTA').value) || 0;
                const section80TTB = parseFloat(document.getElementById('section80TTB').value) || 0;

                // Calculate HRA Exemption
                const hraExemption = calculateHRAExemption(basicSalary, hraReceived, rentPaid, cityType);

                // Old Regime
                let oldTaxableIncome = grossSalary + otherIncome - hraExemption - section80C - section80E - section80D - npsDeduction - (ageGroup === 'below60' ? section80TTA : section80TTB);
                oldTaxableIncome = Math.max(0, oldTaxableIncome);
                const oldTax = calculateOldRegimeTax(oldTaxableIncome, ageGroup);

                // New Regime
                let newTaxableIncome = grossSalary + otherIncome;
                newTaxableIncome = Math.max(0, newTaxableIncome);
                const newTax = calculateNewRegimeTax(newTaxableIncome);

                const result = `
                    <strong class="text-indigo-900">Tax Calculation FY 2025-26:</strong><br>
                    <strong>Old Regime:</strong><br>
                    HRA Exemption: ₹${formatIndianNumber(hraExemption)}<br>
                    Taxable Income: ₹${formatIndianNumber(oldTaxableIncome)}<br>
                    Tax Liability: ₹${formatIndianNumber(oldTax)}<br>
                    <strong>New Regime:</strong><br>
                    Taxable Income: ₹${formatIndianNumber(newTaxableIncome)}<br>
                    Tax Liability: ₹${formatIndianNumber(newTax)}<br>
                    <strong>Recommendation:</strong> ${oldTax < newTax ? 'Old regime saves ₹' + formatIndianNumber(newTax - oldTax) : newTax < oldTax ? 'New regime saves ₹' + formatIndianNumber(oldTax - newTax) : 'Both regimes yield the same tax liability'}
                `;
                document.getElementById('taxResult').innerHTML = result;

                taxChart.data.datasets[0].data = [oldTax, newTax];
                taxChart.update();

                document.getElementById('resultsCard').classList.add('block');
                document.getElementById('resultsCard').classList.remove('hidden');
                calcButton.classList.remove('loading');

                gtag('event', 'calculate_tax', {
                    event_category: 'Calculator',
                    event_label: 'Income Tax Calculator'
                });
            }, 300);
        }

        function resetForm() {
            document.getElementById('ageGroup').value = 'below60';
            document.getElementById('grossSalary').value = '1000000';
            document.getElementById('otherIncome').value = '0';
            document.getElementById('basicSalary').value = '0';
            document.getElementById('hraReceived').value = '0';
            document.getElementById('rentPaid').value = '0';
            document.getElementById('cityType').value = 'metro';
            document.getElementById('section80C').value = '0';
            document.getElementById('section80E').value = '0';
            document.getElementById('section80D').value = '0';
            document.getElementById('npsDeduction').value = '0';
            document.getElementById('section80TTA').value = '0';
            document.getElementById('section80TTB').value = '0';
            document.getElementById('taxResult').innerHTML = '';
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('resultsCard').classList.add('hidden');
            document.getElementById('calcButton').disabled = true;
            taxChart.data.datasets[0].data = [0, 0];
            taxChart.update();
            updateProgress();
            validateInputs();
        }

        function updateDeadlines() {
            const today = new Date();
            const advanceTaxDeadline = new Date('2025-03-15');
            const itrDeadline = new Date('2025-07-31');
            const pmVidyalaxmiDeadline = new Date('2025-08-31');
            const advanceTaxItem = document.getElementById('past-advance-tax');
            const itrItem = document.getElementById('itr-filing');
            const pmVidyalaxmiItem = document.getElementById('pm-vidyalaxmi');
            if (today > advanceTaxDeadline) {
                advanceTaxItem.classList.add('past-deadline');
                advanceTaxItem.innerHTML = '<strong>Advance Tax (Final, FY 2024-25)</strong>: Deadline passed (March 15, 2025). <span class="penalty">Penalty: 1% interest per month under Section 234C for late payment.</span>';
            }
            if (today > itrDeadline) {
                itrItem.classList.add('past-deadline');
                itrItem.innerHTML = '<strong>ITR Filing (Non-Audit, FY 2025-26)</strong>: Deadline passed (July 31, 2025). <span class="penalty">Penalty: ₹5,000 under Section 234F (₹1,000 if income < ₹5 lakh).</span>';
            }
            if (today > pmVidyalaxmiDeadline) {
                pmVidyalaxmiItem.classList.add('past-deadline');
                pmVidyalaxmiItem.innerHTML = '<strong>PM-Vidyalaxmi (Education Loan)</strong>: Deadline passed (August 31, 2025). Check <a href="https://pmvidyalaxmi.co.in" target="_blank" class="text-indigo-900 hover:text-orange-500" aria-label="Visit PM-Vidyalaxmi website">pmvidyalaxmi.co.in</a> for 2026 updates.';
            }
        }

        function toggleDeadlines() {
            const deadlines = document.getElementById('deadlinesList');
            const toggle = document.querySelector('.toggle-deadlines');
            if (deadlines.classList.contains('hidden')) {
                deadlines.classList.remove('hidden');
                toggle.textContent = 'Hide Deadlines';
            } else {
                deadlines.classList.add('hidden');
                toggle.textContent = 'Show Deadlines';
            }
            gtag('event', 'toggle_deadlines', {
                event_category: 'Deadlines',
                event_label: 'Tax Deadlines'
            });
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('show');
            gtag('event', 'open_modal', { 
                event_category: 'Modal', 
                event_label: modalId 
            });
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }
    </script>
</body>
</html>