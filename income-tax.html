<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GYW0708DQY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GYW0708DQY');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculate your income tax for FY 2025-26 (AY 2026-27) with our free India Income Tax Calculator. Compare old and new tax regimes, claim deductions (80C, 80E, 80D), and plan for ITR filing deadlines.">
    <meta name="keywords" content="income tax calculator India, tax calculator FY 2025-26, old vs new tax regime, Section 80E, ITR filing 2025">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Financial Calculators">
    <title>Income Tax Calculator India FY 2025-26</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            max-width: 600px;
            margin: 20px auto;
            height: 300px;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            cursor: help;
        }
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translate(-50%, -100%);
            background: #1A237E;
            color: #FFFFFF;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
            z-index: 10;
        }
        .tooltip:hover::after, .tooltip:focus::after {
            opacity: 1;
            visibility: visible;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal.show {
            display: flex;
        }
        .past-deadline {
                   color: #DC2626; /* Tailwind text-red-600 */
               }
        @media (max-width: 768px) {
            .chart-container {
                max-width: 100%;
                height: 250px;
            }
        }
    </style>
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Income Tax Calculator India FY 2025-26",
      "description": "Calculate your income tax for FY 2025-26 (AY 2026-27) with our free India Income Tax Calculator.",
      "url": "https://moneymindtool.com/income-tax.html",
      "applicationCategory": "Financial",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      }
    }
    </script>
    <!-- Schema Markup: FAQPage -->
       <script type="application/ld+json">
       {
         "@context": "https://schema.org",
         "@type": "FAQPage",
         "mainEntity": [
           {
             "@type": "Question",
             "name": "What are the tax slabs for FY 2025-26?",
             "acceptedAnswer": {
               "@type": "Answer",
               "text": "Old regime: Varies by age (e.g., up to ₹2.5 lakh exempt for below 60). New regime: Up to ₹3 lakh exempt, ₹60,000 rebate up to ₹12 lakh."
             }
           },
           {
             "@type": "Question",
             "name": "Can I claim Section 80E with the new regime?",
             "acceptedAnswer": {
               "@type": "Answer",
               "text": "No, Section 80E deductions are available only under the old regime."
             }
           },
           {
             "@type": "Question",
             "name": "What is the ITR filing deadline?",
             "acceptedAnswer": {
               "@type": "Answer",
               "text": "July 31, 2025, for non-audit cases for FY 2025-26. Late filing incurs a ₹5,000 penalty under Section 234F."
             }
           },
           {
             "@type": "Question",
             "name": "What is advance tax and who needs to pay it?",
             "acceptedAnswer": {
               "@type": "Answer",
               "text": "Advance tax is tax paid on income as it is earned, due in installments (e.g., March 15, 2025). Individuals with tax liability exceeding ₹10,000 in a year must pay it, except senior citizens not running a business."
             }
           },
           {
             "@type": "Question",
             "name": "What happens if I miss the ITR filing deadline?",
             "acceptedAnswer": {
               "@type": "Answer",
               "text": "Late filing by December 31, 2025, incurs a ₹5,000 penalty (₹1,000 for income below ₹5 lakh) under Section 234F. You may also face interest under Section 85A and lose certain deductions."
             }
           },
           {
             "@type": "Question",
             "name": "Can I switch between old and new tax regimes?",
             "acceptedAnswer": {
               "@type": "Answer",
               "text": "Yes, salaried individuals can switch regimes annually; business taxpayers."
           }
       },
       {
           "@type": "Question",
           "name": "What are other common deductions under the old regime?",
           "acceptedAnswer": {
               "@type": "Answer",
               "text": "Besides 80C, 80E, and 80D, you can claim deductions like 80TTA (savings interest, up to ₹10,000), 80G (donations), and 24(b) (home loan interest, up to ₹2 lakh)."
             }
           }
         ]
       }
       </script>
</head>
<body class="bg-gray-100">
    <header class="bg-indigo-900 text-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold">Financial Calculators</h1>
            <nav class="flex space-x-4">
                <a href="/index.html" class="hover:text-orange-500">Home</a>
                <div class="relative group">
                    <a href="/all-calculators" class="hover:text-orange-500">Calculators</a>
                    <div class="absolute hidden group-hover:block bg-white text-gray-800 shadow-lg rounded-lg mt-2 w-48">
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-3xl font-bold text-indigo-900 text-center mb-6">Income Tax Calculator FY 2025-26</h1>
        <section class="mb-6 text-center">
            <p class="text-gray-600 mb-4">Calculate your income tax for FY 2025-26 (AY 2026-27). Compare old and new tax regimes, claim deductions (80C, 80E, 80D), and plan for ITR filing deadlines.</p>
            <a href="/all-calculators" class="text-indigo-900 hover:text-orange-500 font-semibold">Back to All Calculators</a>
        </section>
        <section class="mb-6">
            <h3 class="text-xl font-semibold text-indigo-900 mb-2 text-center">Tax Filing Deadlines (2025)</h3>
            <span class="text-indigo-900 cursor-pointer hover:text-orange-500 block text-center mb-2 toggle-deadlines">Show Deadlines</span>
            <div id="deadlinesList" class="hidden text-gray-800 max-w-xl mx-auto">
                <ul class="list-disc pl-5">
                    <li id="past-advance-tax"><strong>Advance Tax (Final, FY 2024-25)</strong>: Due March 15, 2025. <span class="penalty">Penalty: 1% interest per month under Section 234C for late payment.</span></li>
                    <li><strong>ITR Filing (Non-Audit, FY 2025-26)</strong>: July 31, 2025, for FY 2025-26. File at <a href="https://www.incometax.gov.in" target="_blank" class="text-indigo-900 hover:text-orange-500">incometax.gov.in</a>.</li>
                    <li><strong>PM-Vidyalaxmi (Education Loan)</strong>: Apply by August 31, 2025, for loan subsidies at <a href="https://pmvidyalaxmi.co.in" target="_blank" class="text-indigo-900 hover:text-orange-500">pmvidyalaxmi.co.in</a>.</li>
                </ul>
            </div>
        </section>
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-indigo-900 mb-4">Calculate Your Income Tax</h2>
            <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
                <div id="taxProgress" class="bg-orange-500 h-2 rounded-full" style="width: 0;"></div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="ageGroup" class="block text-gray-800">Age Group: <span class="tooltip" data-tooltip="Select your age for tax slab applicability" tabindex="0">?</span></label>
                    <select id="ageGroup" class="w-full p-2 border rounded-lg" aria-label="Select Age Group">
                        <option value="below60" selected>Below 60</option>
                        <option value="60to80">60 to 80</option>
                        <option value="above80">Above 80</option>
                    </select>
                </div>
                <div>
                    <label for="grossSalary" class="block text-gray-800">Gross Salary (₹): <span class="tooltip" data-tooltip="Annual salary before exemptions" tabindex="0">?</span></label>
                    <input type="number" id="grossSalary" min="0" value="1000000" class="w-full p-2 border rounded-lg" aria-label="Gross Salary in Rupees">
                </div>
                <div>
                    <label for="otherIncome" class="block text-gray-800">Other Income (₹): <span class="tooltip" data-tooltip="Rental, interest, capital gains, etc." tabindex="0">?</span></label>
                    <input type="number" id="otherIncome" min="0" value="0" class="w-full p-2 border rounded-lg" aria-label="Other Income in Rupees">
                </div>
                <div>
                    <label for="hraExemption" class="block text-gray-800">HRA Exemption (₹): <span class="tooltip" data-tooltip="HRA exemption (old regime)" tabindex="0">?</span></label>
                    <input type="number" id="hraExemption" min="0" value="0" class="w-full p-2 border rounded-lg" aria-label="HRA Exemption in Rupees">
                </div>
                <div>
                    <label for="section80C" class="block text-gray-800">Section 80C Deduction (₹): <span class="tooltip" data-tooltip="Up to ₹1.5 lakh (PPF, ELSS, etc.)" tabindex="0">?</span></label>
                    <input type="number" id="section80C" min="0" max="150000" value="0" class="w-full p-2 border rounded-lg" aria-label="Section 80C Deduction">
                </div>
                <div>
                    <label for="section80E" class="block text-gray-800">Section 80E Interest (₹): <span class="tooltip" data-tooltip="Education loan interest (old regime)" tabindex="0">?</span></label>
                    <input type="number" id="section80E" min="0" value="0" class="w-full p-2 border rounded-lg" aria-label="Section 80E Interest">
                </div>
                <div>
                    <label for="section80D" class="block text-gray-800">Section 80D Deduction (₹): <span class="tooltip" data-tooltip="Health insurance premium (up to ₹25,000)" tabindex="0">?</span></label>
                    <input type="number" id="section80D" min="0" max="25000" value="0" class="w-full p-2 border rounded-lg" aria-label="Section 80D Deduction">
                </div>
                <div>
                    <label for="npsDeduction" class="block text-gray-800">NPS Deduction (₹): <span class="tooltip" data-tooltip="Section 80CCD(1B), up to ₹50,000" tabindex="0">?</span></label>
                    <input type="number" id="npsDeduction" min="0" max="50000" value="0" class="w-full p-2 border rounded-lg" aria-label="NPS Deduction">
                </div>
            </div>
            <div class="flex gap-4 mt-4">
                <button id="calcButton" onclick="calcTax()" disabled class="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 disabled:bg-gray-400" aria-label="Calculate Tax">Calculate</button>
                <button onclick="resetForm()" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600" aria-label="Reset Form">Reset</button>
            </div>
            <p class="text-sm text-gray-600 mt-2">Enter income and deductions to compare tax under old and new regimes. Results are estimates; consult a tax professional.</p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6 hidden" id="resultsCard">
            <div id="errorMessage" class="text-red-600 hidden"></div>
            <div id="taxResult" class="text-gray-800"></div>
            <div class="chart-container">
                <canvas id="taxChart"></canvas>
            </div>
        </div>
        <section class="mt-8">
            <h2 class="text-2xl font-semibold text-indigo-900 text-center mb-4">FAQs</h2>
            <div class="space-y-4">
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What are the tax slabs for FY 2025-26?</h3>
                    <p class="text-gray-600">Old regime: Varies by age (e.g., up to ₹2.5 lakh exempt for below 60). New regime: Up to ₹3 lakh exempt, ₹60,000 rebate up to ₹12 lakh.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">Can I claim Section 80E with the new regime?</h3>
                    <p class="text-gray-600">No, Section 80E deductions are available only under the old regime.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What is the ITR filing deadline?</h3>
                    <p class="text-gray-600">July 31, 2025, for non-audit cases for FY 2025-26. Late filing incurs a ₹5,000 penalty under Section 234F.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What is advance tax and who needs to pay it?</h3>
                    <p class="text-gray-600">Advance tax is tax paid on income as it is earned, due in installments (e.g., March 15, 2025). Individuals with tax liability exceeding ₹10,000 in a year must pay it, except senior citizens not running a business.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What happens if I miss the ITR filing deadline?</h3>
                    <p class="text-gray-600">Late filing by December 31, 2025, incurs a ₹5,000 penalty (₹1,000 for income below ₹5 lakh) under Section 234F. You may also face interest under Section 234A and lose certain deductions.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">Can I switch between old and new tax regimes?</h3>
                    <p class="text-gray-600">Yes, salaried individuals can switch regimes each year when filing ITR. Business/professional taxpayers opting out of the new regime can revert only once.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What are other common deductions under the old regime?</h3>
                    <p class="text-gray-600">Besides 80C, 80E, 80D, and 80CCD(1B), you can claim deductions like 80TTA (savings interest up to ₹10,000), 80G (donations), and 24(b) (home loan interest up to ₹2 lakh).</p>
                </div>
            </div>
        </section>
    </main>
    <div id="disclaimerModal" class="modal">
        <div class="bg-white rounded-lg p-6 max-w-md w-full">
            <span class="absolute top-4 right-4 text-2xl cursor-pointer" onclick="closeModal('disclaimerModal')" aria-label="Close Disclaimer Modal">×</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Disclaimer</h3>
            <p class="text-gray-600">Calculators are for informational purposes only. Results are estimates and do not account for individual circumstances or regulations. Consult a tax professional.</p>
        </div>
    </div>
    <footer class="bg-indigo-900 text-white text-center py-6">
        <div class="flex justify-center space-x-4">
            <a href="#" onclick="openModal('disclaimerModal')" class="hover:text-orange-500">Disclaimer</a>
            <span>|</span>
            <a href="#" class="hover:text-orange-500">Terms and Conditions</a>
        </div>
        <p class="mt-2 text-sm">© 2025 Financial Calculators. All Rights Reserved.</p>
    </footer>
    <script>
        // Chart.js Configuration
        const chartConfig = {
            type: 'bar',
            data: {
                labels: ['Old Regime', 'New Regime'],
                datasets: [{
                    label: 'Tax Liability (₹)',
                    data: [0, 0],
                    backgroundColor: ['#1A237E', '#FF6F00'],
                    borderColor: ['#FFFFFF', '#FFFFFF'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, title: { display: true, text: 'Tax (₹)' } }
                },
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'Tax Comparison', color: '#1A237E' }
                }
            }
        };

        let taxChart;
        window.onload = function() {
        const ctx = document.getElementById('taxChart').getContext('taxChart');
        taxChart = new Chart(ctx, chartConfig);
        updateDeadlines();
        updateProgress();
        validateInputs();
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('input', () => {
                validateInputs();
                updateProgress();
            });
        });
        document.querySelectorAll('.toggle-deadlines').forEach(btn => {
            btn.addEventListener('click', toggleTaxDeadlines);
        });
        document.querySelectorAll('.tooltip').forEach(tooltip => {
            tooltip.addEventListener('keydown', (event) => {
                if (event.key === 'Enter' || event.key === ' ') {
                    tooltip.focus();
                }
            });
        });
        document.querySelectorAll('.faq-item h3').forEach(item => {
            item.addEventListener('click', () => {
                gtag('event', 'faq_click', {
                    'event_category': 'FAQ',
                    'event_label': item.textContent
                });
            });
        });
    };

        function formatIndianNumber(num) {
            if (isNaN(num)) return "0.00";
            let str = Number(num).toFixed(2).toString();
            let [integer, decimal] = str.split('.');
            let lastThree = integer.slice(-3);
            let otherDigits = integer.slice(0, -3);
            if (otherDigits) lastThree = ',' + lastThree;
            let result = otherDigits.replace(/\B(?=(\d{2})+(?!\d))/g, ',') + lastThree;
            return result + '.' + decimal;
        }

        function updateProgress() {
            const inputs = ['ageGroup', 'grossSalary', 'otherIncome', 'hraExemption', 'section80C', 'section80E', 'section80D', 'npsDeduction'];
            let filled = inputs.reduce((count, id) => count + (document.getElementById(id).value !== '' ? 1 : 0), 0);
            document.getElementById('taxProgress').style.width = `${(filled / inputs.length) * 100}%`;
        }

        function validateInputs() {
            let salary = parseFloat(document.getElementById('grossSalary').value);
            let otherIncome = parseFloat(document.getElementById('otherIncome').value);
            let hra = parseFloat(document.getElementById('hraExemption').value);
            let section80C = parseFloat(document.getElementById('section80C').value);
            let section80E = parseFloat(document.getElementById('section80E').value);
            let section80D = parseFloat(document.getElementById('section80D').value);
            let nps = parseFloat(document.getElementById('npsDeduction').value);

            let errorMessage = document.getElementById('errorMessage');
            let calcButton = document.getElementById('calcButton');
            let inputs = ['grossSalary', 'otherIncome', 'hraExemption', 'section80C', 'section80E', 'section80D', 'npsDeduction'];
            inputs.forEach(id => document.getElementById(id).classList.remove('border-red-500'));
            errorMessage.style.display = 'none';
            errorMessage.innerHTML = '';

            let errors = [];
            if (isNaN(salary) || salary < 0) {
                errors.push('Gross salary must be non-negative.');
                document.getElementById('grossSalary').classList.add('border-red-500');
            }
            if (isNaN(otherIncome) || otherIncome < 0) {
                errors.push('Other income must be non-negative.');
                document.getElementById('otherIncome').classList.add('border-red-500');
            }
            if (isNaN(hra) || hra < 0) {
                errors.push('HRA exemption must be non-negative.');
                document.getElementById('hraExemption').classList.add('border-red-500');
            }
            if (isNaN(section80C) || section80C < 0 || section80C > 150000) {
                errors.push('Section 80C must be ₹0 to ₹1.5 lakh.');
                document.getElementById('section80C').classList.add('border-red-500');
            }
            if (isNaN(section80E) || section80E < 0) {
                errors.push('Section 80E must be non-negative.');
                document.getElementById('section80E').classList.add('border-red-500');
            }
            if (isNaN(section80D) || section80D < 0 || section80D > 25000) {
                errors.push('Section 80D must be ₹0 to ₹25,000.');
                document.getElementById('section80D').classList.add('border-red-500');
            }
            if (isNaN(nps) || nps < 0 || nps > 50000) {
                errors.push('NPS deduction must be ₹0 to ₹50,000.');
                document.getElementById('npsDeduction').classList.add('border-red-500');
            }

            if (errors.length > 0) {
                errorMessage.innerHTML = errors.join('<br>');
                errorMessage.style.display = 'block';
                document.getElementById('resultsCard').classList.remove('hidden');
                calcButton.disabled = true;
                return false;
            }

            calcButton.disabled = false;
            return true;
        }

        function calculateOldRegimeTax(taxableIncome, ageGroup) {
            let tax = 0;
            let slabs;
            if (ageGroup === 'below60') {
                slabs = [
                    { limit: 250000, rate: 0 },
                    { limit: 500000, rate: 5 },
                    { limit: 1000000, rate: 20 },
                    { limit: Infinity, rate: 30 }
                ];
            } else if (ageGroup === '60to80') {
                slabs = [
                    { limit: 300000, rate: 0 },
                    { limit: 500000, rate: 5 },
                    { limit: 1000000, rate: 20 },
                    { limit: Infinity, rate: 30 }
                ];
            } else {
                slabs = [
                    { limit: 500000, rate: 0 },
                    { limit: 1000000, rate: 20 },
                    { limit: Infinity, rate: 30 }
                ];
            }

            let previousLimit = 0;
            for (let slab of slabs) {
                if (taxableIncome > previousLimit) {
                    let taxableAtThisRate = Math.min(taxableIncome, slab.limit) - previousLimit;
                    tax += taxableAtThisRate * (slab.rate / 100);
                    previousLimit = slab.limit;
                } else {
                    break;
                }
            }

            // Surcharge
            let surcharge = 0;
            if (taxableIncome > 5000000) surcharge = tax * 0.10;
            if (taxableIncome > 10000000) surcharge = tax * 0.15;
            if (taxableIncome > 20000000) surcharge = tax * 0.25;
            if (taxableIncome > 50000000) surcharge = tax * 0.37;

            // Health & Education Cess
            let cess = (tax + surcharge) * 0.04;
            return tax + surcharge + cess;
        }

        function calculateNewRegimeTax(taxableIncome) {
            let slabs = [
                { limit: 300000, rate: 0 },
                { limit: 600000, rate: 5 },
                { limit: 900000, rate: 10 },
                { limit: 1200000, rate: 15 },
                { limit: 1500000, rate: 20 },
                { limit: Infinity, rate: 30 }
            ];

            let tax = 0;
            let previousLimit = 0;
            for (let slab of slabs) {
                if (taxableIncome > previousLimit) {
                    let taxableAtThisRate = Math.min(taxableIncome, slab.limit) - previousLimit;
                    tax += taxableAtThisRate * (slab.rate / 100);
                    previousLimit = slab.limit;
                } else {
                    break;
                }
            }

            // Rebate under Section 87A
            if (taxableIncome <= 1200000) tax = Math.max(0, tax - 60000);

            // Surcharge
            let surcharge = 0;
            if (taxableIncome > 5000000) surcharge = tax * 0.10;
            if (taxableIncome > 10000000) surcharge = tax * 0.15;
            if (taxableIncome > 20000000) surcharge = tax * 0.25;

            // Health & Education Cess
            let cess = (tax + surcharge) * 0.04;
            return tax + surcharge + cess;
        }

        function calcTax() {
            if (!validateInputs()) return;

            let calcButton = document.getElementById('calcButton');
            calcButton.innerHTML = 'Calculating...';
            setTimeout(() => {
                let ageGroup = document.getElementById('ageGroup').value;
                let grossSalary = parseFloat(document.getElementById('grossSalary').value);
                let otherIncome = parseFloat(document.getElementById('otherIncome').value);
                let hraExemption = parseFloat(document.getElementById('hraExemption').value);
                let section80C = parseFloat(document.getElementById('section80C').value);
                let section80E = parseFloat(document.getElementById('section80E').value);
                let section80D = parseFloat(document.getElementById('section80D').value);
                let npsDeduction = parseFloat(document.getElementById('npsDeduction').value);

                // Old Regime
                let oldTaxableIncome = grossSalary + otherIncome - hraExemption - section80C - section80E - section80D - npsDeduction;
                oldTaxableIncome = Math.max(0, oldTaxableIncome);
                let oldTax = calculateOldRegimeTax(oldTaxableIncome, ageGroup);

                // New Regime
                let newTaxableIncome = grossSalary + otherIncome;
                newTaxableIncome = Math.max(0, newTaxableIncome);
                let newTax = calculateNewRegimeTax(newTaxableIncome);

                let result = `
                    <strong>Tax Calculation FY 2025-26:</strong><br>
                    <strong>Old Regime:</strong><br>
                    Taxable Income: ₹${formatIndianNumber(oldTaxableIncome)}<br>
                    Tax Liability: ₹${formatIndianNumber(oldTax)}<br>
                    <strong>New Regime:</strong><br>
                    Taxable Income: ₹${formatIndianNumber(newTaxableIncome)}<br>
                    Tax Liability: ₹${formatIndianNumber(newTax)}<br>
                    <strong>Recommendation:</strong> ${oldTax < newTax ? 'Old regime saves ₹' + formatIndianNumber(newTax - oldTax) : 'New regime saves ₹' + formatIndianNumber(oldTax - newTax)}
                `;
                document.getElementById('taxResult').innerHTML = result;

                taxChart.data.datasets[0].data = [oldTax, newTax];
                taxChart.update();

                document.getElementById('resultsCard').classList.add('block');
                document.getElementById('resultsCard').classList.remove('hidden');
                calcButton.innerHTML = 'Calculate';

                gtag('event', 'calculate_tax', {
                    'event_category': 'Calculator',
                    'event_label': 'Income Tax Calculator'
                });
            }, 300);
        }

        function resetForm() {
            document.getElementById('ageGroup').value = 'below60';
            document.getElementById('grossSalary').value = '1000000';
            document.getElementById('otherIncome').value = '0';
            document.getElementById('hraExemption').value = '0';
            document.getElementById('section80C').value = '0';
            document.getElementById('section80E').value = '0';
            document.getElementById('section80D').value = '0';
            document.getElementById('npsDeduction').value = '0';
            document.getElementById('taxResult').innerHTML = '';
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('resultsCard').classList.add('hidden');
            document.getElementById('calcButton').disabled = true;
            taxChart.data.datasets[0].data = [0, 0];
            taxChart.update();
            updateProgress();
            validateInputs();
        }

        function updateDeadlines() {
            const today = new Date();
            const advanceTaxDeadline = new Date('2025-03-15');
            const deadlinesList = document.getElementById('deadlinesList');
            if (today > advanceTaxDeadline) {
                const pastItem = document.getElementById('past-advance-tax');
                pastItem.classList.add('past-deadline');
                pastItem.innerHTML = '<strong>Advance Tax (Final, FY 2024-25)</strong>: Deadline passed (March 15, 2025). <span class="penalty">Penalty: 1% interest per month under Section 234C for late payment.</span>';
            }
        }

        function toggleDeadlines() {
            let deadlines = document.getElementById('deadlinesList');
            let toggle = document.querySelector('.toggle-deadlines');
            if (deadlines.classList.contains('hidden')) {
                deadlines.classList.remove('hidden');
                toggle.textContent = 'Hide Deadlines';
            } else {
                deadlines.classList.add('hidden');
                toggle.textContent = 'Show Deadlines';
            }
            gtag('event', 'toggle_deadlines', {
                'event_category': 'Deadlines',
                'event_label': 'Tax Deadlines'
            });
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('show');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }
    </script>
</body>
</html>