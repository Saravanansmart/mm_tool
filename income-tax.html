<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GYW0708DQY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GYW0708DQY');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculate your income tax for FY 2025-26 (AY 2026-27) with our free India Income Tax Calculator. Compare old and new tax regimes, claim deductions (80C, 80E, 80D, 80CCD(1B), HRA, 80TTA, 80TTB), and plan for ITR filing deadlines. Optimize your tax savings today!">
    <meta name="keywords" content="income tax calculator India, tax calculator FY 2025-26, old vs new tax regime 2025, Section 80C deduction calculator, Section 80E interest calculator, Section 80D health insurance deduction, HRA exemption calculator, NPS deduction calculator, ITR filing 2025, tax planning India 2025, tax savings calculator 2025, Section 80TTB deduction, online tax calculator India">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Financial Calculators">
    <link rel="canonical" href="https://moneymindtool.com/income-tax.html">
    <title>Income Tax Calculator India FY 2025-26 - Optimize Tax Savings</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(180deg, #E8F0FE, #F9FAFB);
            min-height: 100vh;
            color: #1F2937; /* Darker text for readability */
            line-height: 1.6;
        }
        header {
            background: #2A3EB1;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background: #F9FAFB;
            min-width: 220px;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            z-index: 1000;
            top: 100%;
            right: 0;
        }
        .dropdown-content a {
            color: #4B5EAA;
            padding: 12px 16px;
            display: block;
            font-weight: 400;
            text-decoration: none;
            transition: background 0.2s ease, color 0.2s ease;
        }
        .dropdown-content a:hover {
            background: #E8F0FE;
            color: #F57C00;
        }
        .dropdown:hover .dropdown-content, .dropdown:focus-within .dropdown-content {
            display: block;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            cursor: help;
            outline: none;
            color: #F57C00; /* Orange icon */
        }
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translate(-50%, -100%);
            background: #2A3EB1;
            color: #FFFFFF;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
            z-index: 10;
        }
        .tooltip:hover::after, .tooltip:focus::after {
            opacity: 1;
            visibility: visible;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal.show {
            display: flex;
        }
        .chart-container {
            max-width: 600px;
            margin: 20px auto;
            height: 300px;
        }
        .past-deadline {
            color: #D32F2F;
        }
        select {
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%234B5EAA" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 16px;
            padding-right: 30px;
            cursor: pointer;
        }
        button.loading::after {
            content: '';
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #FFFFFF;
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 8px;
            vertical-align: middle;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .deduction-item {
            border-left: 4px solid #F57C00;
            padding-left: 15px;
            padding-bottom: 15px;
            margin-bottom: 20px;
            background: #FAFAFA;
            border-radius: 4px;
            padding: 15px;
        }
        .deduction-item h3 {
            margin-bottom: 5px;
        }
        .faq-item p, .deduction-item p {
            font-size: 0.95em;
            color: #4A5568;
        }
        .faq-item {
            border-bottom: 1px dashed #E2E8F0;
            padding-bottom: 10px;
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Income Tax Calculator India FY 2025-26",
      "description": "Calculate your income tax for FY 2025-26 (AY 2026-27) with our free India Income Tax Calculator. Compare old and new tax regimes, claim deductions (80C, 80E, 80D, 80CCD(1B), HRA, 80TTA, 80TTB), and plan for ITR filing deadlines.",
      "url": "https://moneymindtool.com/income-tax.html",
      "applicationCategory": "Financial",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What are the tax slabs for FY 2025-26?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Old regime: Varies by age (e.g., up to ₹2.5 lakh exempt for below 60). New regime: Up to ₹3 lakh exempt, ₹60,000 rebate up to ₹12 lakh."
          }
        },
        {
          "@type": "Question",
          "name": "What is Section 80C deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80C allows deductions up to ₹1.5 lakh for investments like PPF, ELSS, NSC, and life insurance premiums, available only under the old tax regime."
          }
        },
        {
          "@type": "Question",
          "name": "Who can claim Section 80E deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Individuals repaying education loan interest can claim Section 80E deductions under the old regime, with no upper limit, for up to 8 years."
          }
        },
        {
          "@type": "Question",
          "name": "What expenses are covered under Section 80D?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80D covers health insurance premiums and preventive health check-ups, up to ₹25,000 for self/spouse and ₹50,000 for senior citizen parents, under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "What is NPS deduction under Section 80CCD(1B)?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80CCD(1B) allows an additional ₹50,000 deduction for contributions to the National Pension System (NPS), available under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "How does HRA exemption work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "HRA exemption under the old regime reduces taxable income based on rent paid, HRA received, basic salary, and city type (metro/non-metro), calculated as per Income Tax rules."
          }
        },
        {
          "@type": "Question",
          "name": "What is Section 80TTA deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80TTA allows deductions up to ₹10,000 on savings account interest for individuals below 60, available under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "What is Section 80TTB deduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Section 80TTB allows deductions up to ₹50,000 on savings and fixed deposit interest for senior citizens (age 60 or above), available under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "Can I claim Section 80E with the new regime?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No, Section 80E deductions are available only under the old regime."
          }
        },
        {
          "@type": "Question",
          "name": "What is the ITR filing deadline for FY 2025-26?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "July 31, 2025, for non-audit cases for FY 2025-26. Late filing incurs a ₹5,000 penalty under Section 234F."
          }
        },
        {
          "@type": "Question",
          "name": "What is advance tax and who needs to pay it?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Advance tax is tax paid on income as it is earned, due in installments (e.g., March 15, 2025). Individuals with tax liability exceeding ₹10,000 in a year must pay it, except senior citizens not running a business."
          }
        },
        {
          "@type": "Question",
          "name": "What happens if I miss the ITR filing deadline?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Late filing by December 31, 2025, incurs a ₹5,000 penalty (₹1,000 for income below ₹5 lakh) under Section 234F. You may also face interest under Section 234A and lose certain deductions."
          }
        },
        {
          "@type": "Question",
          "name": "Can I switch between old and new tax regimes?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, salaried individuals can switch regimes each year when filing ITR. Business/professional taxpayers opting out of the new regime can revert only once."
          }
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to Calculate Income Tax in India for FY 2025-26",
      "description": "Step-by-step guide to calculate your income tax using our free India Income Tax Calculator for FY 2025-26.",
      "step": [
        {
          "@type": "HowToStep",
          "text": "Select your age group (below 60, 60–80, above 80).",
          "position": 1
        },
        {
          "@type": "HowToStep",
          "text": "Enter gross salary, other income, and HRA details (basic salary, rent paid, HRA received, city type).",
          "position": 2
        },
        {
          "@type": "HowToStep",
          "text": "Input deductions (80C, 80E, 80D, 80CCD(1B), 80TTA, 80TTB).",
          "position": 3
        },
        {
          "@type": "HowToStep",
          "text": "Click 'Calculate' to compare tax under old and new regimes.",
          "position": 4
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Income Tax Calculator India",
      "applicationCategory": "FinancialApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      },
      "description": "Free online Income Tax Calculator for FY 2025-26 to compare old and new tax regimes, claim deductions, and plan tax savings in India."
    }
    </script>
</head>
<body>
    <header class="sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-white">Financial Calculators</h1>
            <nav class="flex space-x-4">               <a href="https://moneymindtool.com/index.html" class="text-white hover:text-orange-500 font-medium" aria-label="Go to Home">Home</a>
                <div class="relative dropdown">
                    <a href="https://moneymindtool.com/all-calculators.html" class="text-white hover:text-orange-500 font-medium" aria-expanded="false" aria-label="View All Calculators">Calculators</a>
                    <div class="dropdown-content">
                        <a href="https://moneymindtool.com/all-calculators.html" aria-label="All Calculators">All Calculators</a>
                        <a href="https://moneymindtool.com/income-tax.html" aria-label="Income Tax Calculator">Income Tax Calculator</a>
                        <a href="https://moneymindtool.com/simple-interest.html" aria-label="Simple Interest Calculator">Simple Interest Calculator</a>
                        <a href="https://moneymindtool.com/fixed-deposit.html" aria-label="Fixed Deposit Calculator">Fixed Deposit Calculator</a>
                        <a href="https://moneymindtool.com/recurring-deposit.html" aria-label="Recurring Deposit Calculator">Recurring Deposit Calculator</a>
                        <a href="https://moneymindtool.com/educational-loan.html" aria-label="Educational Loan EMI Calculator">Educational Loan EMI Calculator</a>
                        <a href="https://moneymindtool.com/personal-loan.html" aria-label="Personal Loan EMI Calculator">Personal Loan EMI Calculator</a>
                        <a href="https://moneymindtool.com/sip.html" aria-label="SIP Calculator">SIP Calculator</a>
                        <a href="https://moneymindtool.com/compound-interest.html" aria-label="Compound Interest Calculator">Compound Interest Calculator</a>
                        <a href="https://moneymindtool.com/ppf.html" aria-label="PPF Calculator">PPF Calculator</a>
                        <a href="https://moneymindtool.com/nps.html" aria-label="NPS Calculator">NPS Calculator</a>
                        <a href="https://moneymindtool.com/hra.html" aria-label="HRA Exemption Calculator">HRA Exemption Calculator</a>
                        <a href="https://moneymindtool.com/gratuity.html" aria-label="Gratuity Calculator">Gratuity Calculator</a>
                        <a href="https://moneymindtool.com/loanemi.html" aria-label="Loan EMI Calculator">Loan EMI Calculator</a>
                        <a href="https://moneymindtool.com/home-loan.html" aria-label="Home EMI Calculator">Home EMI Calculator</a>
                        <a href="https://moneymindtool.com/capital-gains.html" aria-label="Capital Gains Calculator">Capital Gains Calculator</a>
                        <a href="https://moneymindtool.com/gst-calculator.html" aria-label="GST Interest & Late Fee Calculator">GST Interest & Late Fee Calculator</a>
                        <a href="https://moneymindtool.com/retirement.html" aria-label="Retirement Planning Calculator">Retirement Planning Calculator</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-4xl font-extrabold text-indigo-900 text-center mb-6"><i class="fas fa-file-invoice-dollar mr-3"></i>Income Tax Calculator India FY 2025-26</h1>
        <section class="bg-white rounded-lg shadow-md p-6 mb-6 text-center border border-indigo-50">
            <p class="text-gray-600 mb-4 text-lg">Optimize your tax liability for <strong>FY 2025-26 (AY 2026-27)</strong> instantly! Our comprehensive tool helps you compare the <strong>Old Tax Regime</strong> (with deductions) vs. the <strong>New Tax Regime</strong> (simplified slabs) to find the maximum saving.</p>
            <p class="text-gray-600 mb-4">Claim all eligible deductions, including <strong>Section 80C, HRA, 80D, and NPS (80CCD(1B))</strong>, to determine your effective tax liability. Start calculating your savings today!</p>
            <a href="https://moneymindtool.com/all-calculators.html" class="text-indigo-900 hover:text-orange-500 font-semibold text-base" aria-label="Back to All Calculators">Back to All Calculators</a>
        </section>
        
        <section class="bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-50">
            <h2 class="text-xl font-semibold text-indigo-900 mb-4 text-center"><i class="fas fa-calendar-alt mr-2"></i>Tax Filing Deadlines (2025-26)</h2>
            <span class="text-indigo-900 cursor-pointer hover:text-orange-500 block text-center mb-2 toggle-deadlines font-medium" tabindex="0" role="button" aria-label="Toggle Tax Filing Deadlines">Show Deadlines</span>
            <div id="deadlinesList" class="hidden text-gray-800 max-w-xl mx-auto">
                <ul class="list-disc pl-5 text-left text-sm space-y-1">
                    <li id="past-advance-tax"><strong>Advance Tax (Final, FY 2024-25)</strong>: Due March 15, 2025. <span class="penalty">Penalty: 1% interest per month under Section 234C for late payment.</span></li>
                    <li id="itr-filing"><strong>ITR Filing (Non-Audit, FY 2025-26)</strong>: July 31, 2026. File at <a href="https://www.incometax.gov.in" target="_blank" class="text-indigo-900 hover:text-orange-500" aria-label="Visit Income Tax India website">incometax.gov.in</a>.</li>
                    <li><strong>Late ITR Filing Deadline</strong>: December 31, 2026. (Subject to penalty under Section 234F)</li>
                </ul>
            </div>
        </section>
        
        <section class="bg-white rounded-lg shadow-2xl p-8 mb-6 border-4 border-indigo-700">
            <h2 class="text-2xl font-bold text-indigo-900 mb-4 text-center"><i class="fas fa-balance-scale mr-2"></i>Compare Regimes & Calculate Tax</h2>
            <div class="w-full bg-indigo-100 rounded-full h-2 mb-6">
                <div id="taxProgress" class="bg-orange-500 h-2 rounded-full transition-all duration-500" style="width: 0;"></div>
            </div>
            
            <div id="errorMessage" class="text-red-600 hidden mb-4 text-center text-sm font-medium"></div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                
                <div class="p-4 bg-indigo-50 rounded-lg">
                    <h3 class="text-lg font-semibold text-indigo-800 mb-3 border-b pb-2 border-indigo-200">Income & Profile</h3>
                    <div>
                        <label for="ageGroup" class="block text-gray-800 font-medium">Age Group:</label>
                        <select id="ageGroup" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 bg-white" aria-label="Select Age Group">
                            <option value="below60" selected>Below 60</option>
                            <option value="60to80">60 to 80 (Senior Citizen)</option>
                            <option value="above80">Above 80 (Super Senior Citizen)</option>
                        </select>
                    </div>
                    <div class="mt-4">
                        <label for="grossSalary" class="block text-gray-800 font-medium">Annual Gross Salary (₹): <span class="tooltip" data-tooltip="Total salary before any tax exemptions or standard deductions."><i class="fas fa-info-circle"></i></span></label>
                        <input type="number" id="grossSalary" min="0" value="1000000" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Annual Gross Salary in Rupees">
                    </div>
                    <div class="mt-4">
                        <label for="otherIncome" class="block text-gray-800 font-medium">Other Income (₹): <span class="tooltip" data-tooltip="Rental income, interest income (FD/Savings), business income, etc."><i class="fas fa-info-circle"></i></span></label>
                        <input type="number" id="otherIncome" min="0" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Other Income in Rupees">
                    </div>
                </div>

                <div class="p-4 bg-indigo-50 rounded-lg">
                    <h3 class="text-lg font-semibold text-indigo-800 mb-3 border-b pb-2 border-indigo-200">HRA & Deductions (Old Regime)</h3>
                    <div>
                        <label for="basicSalary" class="block text-gray-800 font-medium">Annual Basic Salary (₹): <span class="tooltip" data-tooltip="Basic Salary + DA portion of your annual salary. Required for HRA calculation."><i class="fas fa-info-circle"></i></span></label>
                        <input type="number" id="basicSalary" min="0" value="500000" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Annual Basic Salary in Rupees">
                    </div>
                    <div class="mt-4">
                        <label for="hraReceived" class="block text-gray-800 font-medium">Annual HRA Received (₹):</label>
                        <input type="number" id="hraReceived" min="0" value="150000" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Annual HRA Received in Rupees">
                    </div>
                    <div class="mt-4">
                        <label for="rentPaid" class="block text-gray-800 font-medium">Annual Rent Paid (₹):</label>
                        <input type="number" id="rentPaid" min="0" value="180000" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Annual Rent Paid in Rupees">
                    </div>
                    <div class="mt-4">
                        <label for="cityType" class="block text-gray-800 font-medium">City Type: <span class="tooltip" data-tooltip="Metro (Delhi, Mumbai, Kolkata, Chennai - 50%) or Non-Metro (40%) for HRA calculation."><i class="fas fa-info-circle"></i></span></label>
                        <select id="cityType" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 bg-white" aria-label="Select City Type">
                            <option value="metro">Metro</option>
                            <option value="non-metro" selected>Non-Metro</option>
                        </select>
                    </div>
                </div>

                <div class="p-4 bg-indigo-50 rounded-lg md:col-span-2">
                    <h3 class="text-lg font-semibold text-indigo-800 mb-3 border-b pb-2 border-indigo-200">Investment & Other Deductions</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div>
                            <label for="section80C" class="block text-gray-800 font-medium text-sm">80C Deduction (₹): <span class="tooltip" data-tooltip="Max ₹1.5 lakh (PPF, ELSS, Life Insurance, Tuition Fees, etc.)"><i class="fas fa-info-circle"></i></span></label>
                            <input type="number" id="section80C" min="0" max="150000" value="150000" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80C Deduction">
                        </div>
                        <div>
                            <label for="npsDeduction" class="block text-gray-800 font-medium text-sm">NPS (80CCD(1B)) (₹): <span class="tooltip" data-tooltip="Additional deduction for NPS contribution. Max ₹50,000."><i class="fas fa-info-circle"></i></span></label>
                            <input type="number" id="npsDeduction" min="0" max="50000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="NPS Deduction">
                        </div>
                        <div>
                            <label for="section80D" class="block text-gray-800 font-medium text-sm">80D Health Premium (₹): <span class="tooltip" data-tooltip="Medical/Health insurance premium. Max ₹25k/₹50k limits apply."><i class="fas fa-info-circle"></i></span></label>
                            <input type="number" id="section80D" min="0" max="75000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80D Deduction">
                        </div>
                        <div>
                            <label for="section80E" class="block text-gray-800 font-medium text-sm">80E Ed. Loan Interest (₹): <span class="tooltip" data-tooltip="Education loan interest paid (no upper limit, 8-year duration)."><i class="fas fa-info-circle"></i></span></label>
                            <input type="number" id="section80E" min="0" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80E Interest">
                        </div>
                        <div>
                            <label for="section80TTA" class="block text-gray-800 font-medium text-sm">80TTA Savings Interest (₹): <span class="tooltip" data-tooltip="Max ₹10,000 deduction on savings account interest (Below 60)."><i class="fas fa-info-circle"></i></span></label>
                            <input type="number" id="section80TTA" min="0" max="10000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80TTA Deduction">
                        </div>
                        <div>
                            <label for="section80TTB" class="block text-gray-800 font-medium text-sm">80TTB FD/Savings Int. (₹): <span class="tooltip" data-tooltip="Max ₹50,000 deduction on interest (Senior Citizens only)."><i class="fas fa-info-circle"></i></span></label>
                            <input type="number" id="section80TTB" min="0" max="50000" value="0" class="w-full p-2 border border-indigo-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200" aria-label="Section 80TTB Deduction">
                        </div>
                    </div>
                </div>

            </div>
            <div class="flex gap-4 mt-8 justify-center">
                <button id="calcButton" onclick="calcTax()" disabled class="bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700 disabled:bg-gray-400 font-semibold transition-all duration-200" aria-label="Calculate Tax">Calculate Comparison</button>
                <button onclick="resetForm()" class="bg-gray-500 text-white px-8 py-3 rounded-lg hover:bg-gray-600 font-semibold transition-all duration-200" aria-label="Reset Form">Reset</button>
            </div>
        </section>
        
        <section class="bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-50 hidden" id="resultsCard">
            <h2 class="text-2xl font-bold text-indigo-900 mb-4 text-center"><i class="fas fa-chart-bar mr-2"></i>Tax Liability Comparison</h2>
            <div id="errorMessage" class="text-red-600 hidden mb-4 text-center"></div>
            <div id="taxResult" class="text-gray-800 mb-4 text-left p-4 bg-indigo-50 rounded-lg"></div>
            <div class="chart-container">
                <canvas id="taxChart"></canvas>
            </div>
            <div class="text-center mt-4">
                <button onclick="document.getElementById('grossSalary').scrollIntoView({ behavior: 'smooth' });" class="bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-all duration-200" aria-label="Calculate Again">Adjust & Calculate Again</button>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-2xl font-semibold text-indigo-900 text-center mb-6"><i class="fas fa-book-reader mr-2"></i>Guide to Key Income Tax Deductions</h2>
            <div class="space-y-6">
                
                <div class="deduction-item">
                    <h3 class="text-xl font-semibold text-indigo-900">1. Section 80C & 80CCD(1B) <i class="fas fa-piggy-bank text-orange-500 ml-2"></i></h3>
                    <p class="text-gray-600 mt-2">These sections provide the core tax-saving mechanism under the <strong>Old Regime</strong>. They reward long-term savings and necessary expenses:</p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li><strong>Section 80C:</strong> Deducts up to <strong>₹1.5 Lakh</strong> for investments (PPF, ELSS, NSC, Life Insurance, home loan principal).</li>
                        <li><strong>Section 80CCD(1B):</strong> Allows an <strong>additional ₹50,000</strong> for contributions made to the National Pension System (NPS Tier-I account). This benefit is separate from the ₹1.5 Lakh limit.</li>
                    </ul>
                </div>

                <div class="deduction-item">
                    <h3 class="text-xl font-semibold text-indigo-900">2. HRA Exemption (Section 10(13A)) <i class="fas fa-home text-orange-500 ml-2"></i></h3>
                    <p class="text-gray-600 mt-2">Available exclusively under the <strong>Old Regime</strong>, HRA exemption reduces taxable income for salaried individuals living in rented housing. The exempt amount is the <strong>minimum of three conditions</strong>:</p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li>Actual HRA received from the employer.</li>
                        <li>Actual rent paid minus 10% of Basic Salary + DA.</li>
                        <li>50% of Basic Salary + DA (Metro Cities: Delhi, Mumbai, Kolkata, Chennai) or 40% (Non-Metro).</li>
                    </ul>
                </div>
                
                 <div class="deduction-item">
                    <h3 class="text-xl font-semibold text-indigo-900">3. Section 80D (Health Insurance) <i class="fas fa-heartbeat text-orange-500 ml-2"></i></h3>
                    <p class="text-gray-600 mt-2">Deduction for medical expenses and health insurance premiums, available under the <strong>Old Regime</strong>:</p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li><strong>Max ₹25,000:</strong> For self, spouse, and dependent children.</li>
                        <li><strong>Max ₹50,000:</strong> For parents (if they are Senior Citizens).</li>
                        <li>Total deduction can reach <strong>₹1,00,000</strong> (₹50k for self/family + ₹50k for senior citizen parents).</li>
                    </ul>
                </div>
                
                 <div class="deduction-item">
                    <h3 class="text-xl font-semibold text-indigo-900">4. Interest Deductions (80TTA, 80TTB, 80E) <i class="fas fa-university text-orange-500 ml-2"></i></h3>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li><strong>80TTA (Below 60):</strong> Deduction up to <strong>₹10,000</strong> on <strong>savings account interest</strong>.</li>
                        <li><strong>80TTB (Senior Citizen):</strong> Deduction up to <strong>₹50,000</strong> on <strong>FD and savings interest</strong>. (Replaces 80TTA for seniors).</li>
                        <li><strong>80E (Education Loan):</strong> Full deduction on the <strong>interest component</strong> of an education loan, with no limit (up to 8 years).</li>
                    </ul>
                </div>

            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-2xl font-semibold text-indigo-900 text-center mb-4"><i class="fas fa-question-circle mr-2"></i>Frequently Asked Questions</h2>
            <div class="space-y-4">
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What are the key differences between the Old and New Tax Regimes?</h3>
                    <p class="text-gray-600">The <strong>Old Regime</strong> offers higher tax exemptions (like HRA and 80C) but uses higher slab rates. The <strong>New Regime</strong> offers lower slab rates and a higher basic exemption limit (up to ₹3 lakh), but requires you to forego almost all common deductions and exemptions.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">Can I claim Standard Deduction (₹50,000) under the New Regime for FY 2025-26?</h3>
                    <p class="text-gray-600">Yes, since FY 2023-24, the <strong>Standard Deduction of ₹50,000 is available under the New Tax Regime</strong> for salaried individuals, making it more attractive for middle-income taxpayers. This is in addition to the increased basic exemption limit.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">What is the ITR filing deadline for FY 2025-26?</h3>
                    <p class="text-gray-600">The ITR filing deadline for non-audit cases for <strong>FY 2025-26 (AY 2026-27)</strong> is <strong>July 31, 2026</strong>. Late filing incurs a ₹5,000 penalty (or ₹1,000 if income is below ₹5 lakh) under Section 234F.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">Can I switch between old and new tax regimes?</h3>
                    <p class="text-gray-600"><strong>Salaried individuals</strong> can switch between regimes every year when filing ITR. <strong>Business/professional taxpayers</strong> are restricted: if they opt out of the new regime once, they can only switch back once in a lifetime (unless they cease having business income).</p>
                </div>
            </div>
        </section>
    </main>
    
    <div id="disclaimerModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full">
            <span class="close absolute top-4 right-4 text-2xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('disclaimerModal')" aria-label="Close Disclaimer Modal">×</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Disclaimer</h3>
            <p class="text-gray-600">Calculators are for informational purposes only. Results are estimates and do not account for individual circumstances or regulations. Consult a tax professional for personalized advice.</p>
        </div>
    </div>
    <div id="termsModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full">
            <span class="close absolute top-4 right-4 text-2xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('termsModal')" aria-label="Close Terms Modal">×</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Terms and Conditions</h3>
            <p class="text-gray-600">By using this website, you agree to these Terms and Conditions. Calculators are for personal, non-commercial use. You must provide accurate inputs; we are not responsible for errors due to incorrect data. The website and its content are owned by Financial Calculators and protected by intellectual property laws. Usage is governed by Indian laws.</p>
        </div>
    </div>
    <footer class="bg-indigo-900 text-white text-center py-6">
        <div class="flex justify-center space-x-4">
            <a href="https://moneymindtool.com/income-tax.html" class="hover:text-orange-500" aria-label="Income Tax Calculator">Income Tax Calculator</a>
            <span>|</span>
            <a href="https://moneymindtool.com/educational-loan.html" class="hover:text-orange-500" aria-label="Education Loan Calculator">Education Loan Calculator</a>
            <span>|</span>
            <a href="https://moneymindtool.com/home-loan.html" class="hover:text-orange-500" aria-label="Home Loan Calculator">Home Loan Calculator</a>
            <span>|</span>
            <a href="#" onclick="openModal('disclaimerModal')" class="hover:text-orange-500" aria-label="View Disclaimer">Disclaimer</a>
            <span>|</span>
            <a href="#" onclick="openModal('termsModal')" class="hover:text-orange-500" aria-label="View Terms and Conditions">Terms and Conditions</a>
        </div>
        <p class="mt-2 text-sm">© 2025 Financial Calculators. All Rights Reserved.</p>
    </footer>
    <script>
        // Chart.js Configuration
        const chartConfig = {
            type: 'bar',
            data: {
                labels: ['Old Regime', 'New Regime'],
                datasets: [{
                    label: 'Tax Liability (₹)',
                    data: [0, 0],
                    backgroundColor: ['#2A3EB1', '#F57C00'],
                    borderColor: ['#FFFFFF', '#FFFFFF'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, title: { display: true, text: 'Tax (₹)', color: '#4B5EAA', font: { family: 'Inter' } } }
                },
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'Tax Comparison', color: '#2A3EB1', font: { family: 'Inter', size: 16 } }
                }
            }
        };

        let taxChart;
        window.onload = function() {
            const ctx = document.getElementById('taxChart')?.getContext('2d');
            if (ctx) {
                try {
                    taxChart = new Chart(ctx, chartConfig);
                } catch (e) {
                    console.error('Failed to initialize Chart.js:', e);
                }
            }
            updateDeadlines();
            updateProgress();
            validateInputs();
            document.querySelectorAll('input, select').forEach(input => {
                input?.addEventListener('input', () => {
                    validateInputs();
                    updateProgress();
                });
            });
            document.querySelectorAll('.toggle-deadlines').forEach(btn => {
                btn?.addEventListener('click', toggleDeadlines);
                btn?.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleDeadlines();
                    }
                });
            });
             document.querySelectorAll('.faq-item h3').forEach(item => {
                item?.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
                });
            });
             document.querySelectorAll('.deduction-item h4').forEach(item => {
                item?.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
                });
            });
        };

        function formatIndianNumber(num) {
            if (isNaN(num) || num === null) return "0.00";
            let str = Number(num).toFixed(2).toString();
            let [integer, decimal] = str.split('.');
            let lastThree = integer.slice(-3);
            let otherDigits = integer.slice(0, -3);
            if (otherDigits) lastThree = ',' + lastThree;
            let result = otherDigits.replace(/\B(?=(\d{2})+(?!\d))/g, ',') + lastThree;
            return result + '.' + decimal;
        }

        function updateProgress() {
            const inputs = ['ageGroup', 'grossSalary', 'otherIncome', 'basicSalary', 'hraReceived', 'rentPaid', 'cityType', 'section80C', 'section80E', 'section80D', 'npsDeduction', 'section80TTA', 'section80TTB'];
            let filled = inputs.reduce((count, id) => count + (document.getElementById(id)?.value !== '' && parseFloat(document.getElementById(id)?.value) >= 0 ? 1 : 0), 0);
            document.getElementById('taxProgress').style.width = `${(filled / inputs.length) * 100}%`;
        }

        function calculateHRAExemption(basicSalary, hraReceived, rentPaid, cityType) {
            if (!basicSalary || !hraReceived || !rentPaid) return 0;
            
            // Note: Basic salary for HRA calculation can include Basic Pay + DA + Commission (based on fixed percentage of turnover). 
            // Here, we use the provided annual basicSalary input.
            
            const hraPercentage = cityType === 'metro' ? 0.5 : 0.4;
            
            // Condition 1: Actual HRA received
            let condition1 = hraReceived; 
            
            // Condition 2: Rent paid minus 10% of salary
            let condition2 = rentPaid - 0.1 * basicSalary;
            
            // Condition 3: 50% or 40% of salary
            let condition3 = hraPercentage * basicSalary;
            
            let exemption = Math.max(0, Math.min(condition1, condition2, condition3));
            return exemption;
        }

        function validateInputs() {
            const ageGroup = document.getElementById('ageGroup').value;
            const salary = parseFloat(document.getElementById('grossSalary')?.value) || 0;
            const otherIncome = parseFloat(document.getElementById('otherIncome')?.value) || 0;
            const basicSalary = parseFloat(document.getElementById('basicSalary')?.value) || 0;
            const hraReceived = parseFloat(document.getElementById('hraReceived')?.value) || 0;
            const rentPaid = parseFloat(document.getElementById('rentPaid')?.value) || 0;
            const section80C = parseFloat(document.getElementById('section80C')?.value) || 0;
            const section80E = parseFloat(document.getElementById('section80E')?.value) || 0;
            const section80D = parseFloat(document.getElementById('section80D')?.value) || 0;
            const nps = parseFloat(document.getElementById('npsDeduction')?.value) || 0;
            const section80TTA = parseFloat(document.getElementById('section80TTA')?.value) || 0;
            const section80TTB = parseFloat(document.getElementById('section80TTB')?.value) || 0;

            const errorMessage = document.getElementById('errorMessage');
            const calcButton = document.getElementById('calcButton');
            const inputs = ['grossSalary', 'otherIncome', 'basicSalary', 'hraReceived', 'rentPaid', 'section80C', 'section80E', 'section80D', 'npsDeduction', 'section80TTA', 'section80TTB'];
            inputs.forEach(id => document.getElementById(id)?.classList.remove('border-red-600'));
            errorMessage.style.display = 'none';
            errorMessage.innerHTML = '';

            let errors = [];
            
            if (salary < 0) errors.push('Gross salary cannot be negative.');
            if (otherIncome < 0) errors.push('Other income cannot be negative.');
            if (basicSalary < 0) errors.push('Basic salary cannot be negative.');
            if (hraReceived < 0) errors.push('HRA received cannot be negative.');
            if (rentPaid < 0) errors.push('Rent paid cannot be negative.');

            if (section80C < 0 || section80C > 150000) errors.push('Section 80C must be ₹0 to ₹1.5 lakh.');
            if (section80D < 0 || section80D > 75000) errors.push('Section 80D must be ₹0 to ₹75,000 (Self+Parents).');
            if (nps < 0 || nps > 50000) errors.push('NPS deduction must be ₹0 to ₹50,000.');
            
            if (ageGroup !== 'below60' && section80TTA > 0) errors.push('80TTA is not applicable for age 60 or above.');
            if (ageGroup === 'below60' && section80TTB > 0) errors.push('80TTB is only for senior citizens.');
            if (ageGroup !== 'below60' && section80TTB > 50000) errors.push('80TTB must be ₹0 to ₹50,000 for senior citizens.');
            
            if (errors.length > 0) {
                errorMessage.innerHTML = errors.join('<br>');
                errorMessage.style.display = 'block';
                document.getElementById('resultsCard').classList.remove('hidden', 'block');
                document.getElementById('resultsCard').classList.add('block');
                calcButton.disabled = true;
                return false;
            }
            
            // Check if calculation can proceed (basic income inputs present)
            if (salary + otherIncome > 0) {
                 calcButton.disabled = false;
            } else {
                 calcButton.disabled = true;
                 return false;
            }

            return true;
        }

        function calculateOldRegimeTax(taxableIncome, ageGroup) {
            if (taxableIncome <= 0) return 0;
            let tax = 0;
            let slabs;
            let baseExemption = 250000;
            
            if (ageGroup === '60to80') baseExemption = 300000;
            else if (ageGroup === 'above80') baseExemption = 500000;

            if (taxableIncome > baseExemption) {
                // 5% slab: 2.5L/3L/5L to 5L
                let taxable5 = Math.min(taxableIncome, 500000) - baseExemption;
                if (taxable5 > 0) tax += taxable5 * 0.05;
                
                // 20% slab: 5L to 10L
                let taxable20 = Math.min(taxableIncome, 1000000) - 500000;
                if (taxable20 > 0) tax += taxable20 * 0.20;
                
                // 30% slab: Above 10L
                let taxable30 = taxableIncome - 1000000;
                if (taxable30 > 0) tax += taxable30 * 0.30;
            }

            // Rebate under Section 87A (Income up to 5L)
            if (taxableIncome <= 500000 && tax > 0) {
                tax = Math.max(0, tax - 12500);
            }

            // Surcharge is calculated on tax
            let surcharge = 0;
            if (taxableIncome > 5000000 && taxableIncome <= 10000000) surcharge = tax * 0.10;
            else if (taxableIncome > 10000000 && taxableIncome <= 20000000) surcharge = tax * 0.15;
            else if (taxableIncome > 20000000 && taxableIncome <= 50000000) surcharge = tax * 0.25;
            else if (taxableIncome > 50000000) surcharge = tax * 0.37;

            // Health & Education Cess
            let cess = (tax + surcharge) * 0.04;
            return Math.round(tax + surcharge + cess);
        }

        function calculateNewRegimeTax(taxableIncome) {
            if (taxableIncome <= 0) return 0;
            let tax = 0;
            
            // Standard Deduction is auto-applied to gross income for New Regime from FY 2023-24 onwards
            const standardDeduction = 50000; 
            let actualTaxableIncome = Math.max(0, taxableIncome - standardDeduction);

            // New Regime Slabs (FY 2025-26)
            let slabs = [
                { limit: 300000, rate: 0 },
                { limit: 600000, rate: 5 },
                { limit: 900000, rate: 10 },
                { limit: 1200000, rate: 15 },
                { limit: 1500000, rate: 20 },
                { limit: Infinity, rate: 30 }
            ];

            let previousLimit = 0;
            for (let slab of slabs) {
                if (actualTaxableIncome > previousLimit) {
                    let taxableAtThisRate = Math.min(actualTaxableIncome, slab.limit) - previousLimit;
                    if (taxableAtThisRate > 0) tax += taxableAtThisRate * (slab.rate / 100);
                    previousLimit = slab.limit;
                } else {
                    break;
                }
            }

            // Rebate under Section 87A (Income up to 7L, Tax up to 25k)
            if (actualTaxableIncome <= 700000) tax = Math.max(0, tax - 25000);

            // Surcharge is calculated on tax
            let surcharge = 0;
            if (actualTaxableIncome > 5000000 && actualTaxableIncome <= 10000000) surcharge = tax * 0.10;
            else if (actualTaxableIncome > 10000000 && actualTaxableIncome <= 20000000) surcharge = tax * 0.15;
            else if (actualTaxableIncome > 20000000 && actualTaxableIncome <= 50000000) surcharge = tax * 0.25;
            else if (actualTaxableIncome > 50000000) surcharge = tax * 0.37;

            // Health & Education Cess
            let cess = (tax + surcharge) * 0.04;
            return Math.round(tax + surcharge + cess);
        }

        function calcTax() {
            if (!validateInputs()) return;

            const calcButton = document.getElementById('calcButton');
            calcButton.classList.add('loading');
            
            // Collect all inputs
            const ageGroup = document.getElementById('ageGroup').value;
            const grossSalary = parseFloat(document.getElementById('grossSalary').value) || 0;
            const otherIncome = parseFloat(document.getElementById('otherIncome').value) || 0;
            const basicSalary = parseFloat(document.getElementById('basicSalary').value) || 0;
            const hraReceived = parseFloat(document.getElementById('hraReceived').value) || 0;
            const rentPaid = parseFloat(document.getElementById('rentPaid').value) || 0;
            const cityType = document.getElementById('cityType').value;
            const section80C = parseFloat(document.getElementById('section80C').value) || 0;
            const section80E = parseFloat(document.getElementById('section80E').value) || 0;
            const section80D = parseFloat(document.getElementById('section80D').value) || 0;
            const npsDeduction = parseFloat(document.getElementById('npsDeduction').value) || 0;
            const section80TTA = parseFloat(document.getElementById('section80TTA').value) || 0;
            const section80TTB = parseFloat(document.getElementById('section80TTB').value) || 0;

            setTimeout(() => {
                
                // 1. Calculate HRA Exemption (Only applicable in Old Regime)
                const hraExemption = calculateHRAExemption(basicSalary, hraReceived, rentPaid, cityType);
                
                // 2. Determine applicable Interest Deduction
                let interestDeduction = 0;
                if (ageGroup === 'below60') {
                     interestDeduction = section80TTA; // Max 10k for Savings Interest
                } else {
                     interestDeduction = section80TTB; // Max 50k for FD/Savings Interest
                }

                // --- Old Regime Calculation ---
                // Deductions claimed: Standard Deduction (50k for salaried), HRA, 80C, 80E, 80D, 80CCD(1B), Interest Deduction
                let oldDeductions = 50000 + hraExemption + section80C + section80E + section80D + npsDeduction + interestDeduction;
                
                // Gross Taxable Income before specific deductions
                let grossTotalIncome = grossSalary + otherIncome;
                
                let oldTaxableIncome = grossTotalIncome - oldDeductions;
                oldTaxableIncome = Math.max(0, oldTaxableIncome);
                const oldTax = calculateOldRegimeTax(oldTaxableIncome, ageGroup);

                // --- New Regime Calculation ---
                // Deductions claimed: Standard Deduction (50k for salaried) + None of the others
                let newDeductions = 50000;
                
                let newTaxableIncome = grossTotalIncome - newDeductions;
                newTaxableIncome = Math.max(0, newTaxableIncome);
                const newTax = calculateNewRegimeTax(grossTotalIncome); // Note: New Regime tax function handles the standard deduction internally
                
                // 3. Prepare Results Output
                const savings = Math.abs(oldTax - newTax);
                const recommendation = oldTax < newTax 
                    ? `The <strong>Old Regime<strong> saves you <strong>₹${formatIndianNumber(newTax - oldTax)}<strong>.` 
                    : newTax < oldTax 
                    ? `The <strong>New Regime<strong> saves you <strong>₹${formatIndianNumber(oldTax - newTax)}<strong>.` 
                    : `Both regimes result in the same tax liability of <strong>₹${formatIndianNumber(oldTax)}<strong>.`;


                const result = `
                    <div class="space-y-4 font-semibold text-lg">
                        <div class="text-center font-extrabold text-2xl text-indigo-800 border-b pb-2 mb-4">Final Comparison</div>
                        
                        <div class="grid grid-cols-2">
                            <span class="text-indigo-900">Taxable Income (Old Regime):</span>
                            <span class="text-right">₹${formatIndianNumber(oldTaxableIncome)}</span>
                        </div>
                        <div class="grid grid-cols-2">
                            <span class="text-indigo-900">Taxable Income (New Regime):</span>
                            <span class="text-right">₹${formatIndianNumber(newTaxableIncome)}</span>
                        </div>
                        <hr class="border-gray-200">
                        <div class="grid grid-cols-2 text-xl font-extrabold">
                            <span class="text-indigo-900">Total Tax (Old Regime):</span>
                            <span class="text-right text-red-600">₹${formatIndianNumber(oldTax)}</span>
                        </div>
                        <div class="grid grid-cols-2 text-xl font-extrabold">
                            <span class="text-indigo-900">Total Tax (New Regime):</span>
                            <span class="text-right text-green-600">₹${formatIndianNumber(newTax)}</span>
                        </div>
                        <div class="mt-4 pt-4 border-t border-indigo-200 text-center text-orange-600 font-extrabold text-xl">
                            ${recommendation}
                        </div>
                    </div>
                `;
                document.getElementById('taxResult').innerHTML = result;

                // Update Chart
                taxChart.data.datasets[0].data = [oldTax, newTax];
                taxChart.update();

                document.getElementById('resultsCard').classList.remove('hidden');
                document.getElementById('resultsCard').classList.add('block');
                calcButton.classList.remove('loading');

                document.getElementById('resultsCard').scrollIntoView({ behavior: 'smooth' });


                gtag('event', 'calculate_tax', {
                    event_category: 'Calculator',
                    event_label: 'Income Tax Calculator'
                });
            }, 300);
        }

        function resetForm() {
            document.getElementById('ageGroup').value = 'below60';
            document.getElementById('grossSalary').value = '1000000';
            document.getElementById('otherIncome').value = '0';
            document.getElementById('basicSalary').value = '500000';
            document.getElementById('hraReceived').value = '150000';
            document.getElementById('rentPaid').value = '180000';
            document.getElementById('cityType').value = 'non-metro';
            document.getElementById('section80C').value = '150000';
            document.getElementById('section80E').value = '0';
            document.getElementById('section80D').value = '0';
            document.getElementById('npsDeduction').value = '0';
            document.getElementById('section80TTA').value = '0';
            document.getElementById('section80TTB').value = '0';
            document.getElementById('taxResult').innerHTML = '';
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('resultsCard').classList.add('hidden');
            document.getElementById('calcButton').disabled = true;
            taxChart.data.datasets[0].data = [0, 0];
            taxChart.update();
            updateProgress();
            validateInputs();
        }

        function updateDeadlines() {
            const today = new Date();
            const advanceTaxDeadline = new Date('2025-03-15');
            const itrDeadline = new Date('2026-07-31'); // Updated to reflect AY 2026-27 deadline
            const advanceTaxItem = document.getElementById('past-advance-tax');
            const itrItem = document.getElementById('itr-filing');

            // Update dates in UI to reflect FY 2025-26 / AY 2026-27 (Hardcoded 2026 below)
            
            if (today > advanceTaxDeadline) {
                // This is checking FY 2024-25 final advance tax payment
                advanceTaxItem.classList.add('past-deadline');
                advanceTaxItem.innerHTML = '<strong>Advance Tax (Final, FY 2024-25)</strong>: Deadline <strong>passed<strong> (March 15, 2025). <span class="penalty">Penalty: 1% interest per month under Section 234C for late payment.</span>';
            }
             // Updated ITR deadline check (assuming current date is 2025-11-27)
            if (today > itrDeadline) {
                itrItem.classList.add('past-deadline');
                itrItem.innerHTML = '<strong>ITR Filing (Non-Audit, FY 2025-26)</strong>: Deadline <strong>passed<strong> (July 31, 2026). <span class="penalty">Late filing incurs penalty under Section 234F.</span>';
            } else {
                 itrItem.innerHTML = '<strong>ITR Filing (Non-Audit, FY 2025-26)</strong>: Due <strong>July 31, 2026<strong>. File at <a href="https://www.incometax.gov.in" target="_blank" class="text-indigo-900 hover:text-orange-500" aria-label="Visit Income Tax India website">incometax.gov.in</a>.';
            }
            
            // Remove PM Vidyalaxmi item as it's not a core tax deadline
            document.getElementById('pm-vidyalaxmi')?.remove(); 
        }

        function toggleDeadlines() {
            const deadlines = document.getElementById('deadlinesList');
            const toggle = document.querySelector('.toggle-deadlines');
            if (deadlines.classList.contains('hidden')) {
                deadlines.classList.remove('hidden');
                toggle.textContent = 'Hide Deadlines';
            } else {
                deadlines.classList.add('hidden');
                toggle.textContent = 'Show Deadlines';
            }
            gtag('event', 'toggle_deadlines', {
                event_category: 'Deadlines',
                event_label: 'Tax Deadlines'
            });
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('show');
            gtag('event', 'open_modal', { 
                event_category: 'Modal', 
                event_label: modalId 
            });
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }
    </script>
</body>
</html>