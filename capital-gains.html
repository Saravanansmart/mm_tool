<!DOCTYPE html>
<html lang="en-IN">
<head>
    <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GYW0708DQY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GYW0708DQY');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Capital Gains Tax Calculator 2025-26 (LTCG/STCG) India - Free Tool</title>
    <meta name="description" content="Free Capital Gains Tax Calculator FY 2025-26 (AY 2026-27) India ‚úì Equity, Property, Mutual Funds & Bonds ‚úì Budget 2025 rates ‚úì Indexation Formula ‚úì Section 54/54EC/54F exemptions ‚úì Instant result">
    <meta name="keywords" content="capital gains tax calculator 2025, LTCG calculator 2025, STCG calculator 2025, property capital gains tax calculator, section 54EC bonds calculator, indexation calculator 2025, budget 2025 capital gains, how to calculate capital gains tax India">
    <meta name="robots" content="index, follow">
    <meta name="author" content="MoneyMindTool">
    <link rel="canonical" href="https://moneymindtool.com/capital-gains.html">

    <meta property="og:title" content="Capital Gains Tax Calculator 2025-26 India - Free & Instant">
    <meta property="og:description" content="Calculate LTCG & STCG tax on equity, property, mutual funds & bonds with latest Budget 2025 rules, indexation & exemptions.">
    <meta property="og:url" content="https://moneymindtool.com/capital-gains.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://moneymindtool.com/images/capital-gains-calculator.jpg">
    <meta property="og:site_name" content="MoneyMindTool">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Capital Gains Tax Calculator 2025-26 India - Free">
    <meta name="twitter:description" content="Instant LTCG/STCG calculator with Budget 2025 rates & Section 54/54EC exemptions">
    <meta name="twitter:image" content="https://moneymindtool.com/images/capital-gains-calculator.jpg">

    <link rel="preload" href="https://cdn.tailwindcss.com" as="script">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">


    <script defer src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap&font-display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(180deg, #E8F0FE, #F9FAFB);
            min-height: 100vh;
            color: #1F2937; /* Darker text for better contrast */
            line-height: 1.75;
        }
        header {
            background: #2A3EB1;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .chart-container { 
            max-width: 600px; 
            margin: 20px auto; 
            height: 300px; 
            max-height: 300px;
        }
        .tooltip {
            position: relative; 
            display: inline-block; 
            margin-left: 5px; 
            cursor: help;
            outline: none;
            color: #F57C00; /* Orange color for the info icon */
        }
        /* Tooltip style */
        .tooltip::after {
            content: attr(data-tooltip); 
            position: absolute; 
            top: -10px; 
            left: 50%;
            transform: translate(-50%, -100%); 
            background: #2A3EB1; 
            color: #FFFFFF;
            padding: 5px 10px; 
            border-radius: 4px; 
            font-size: 0.8em; 
            white-space: nowrap;
            opacity: 0; 
            visibility: hidden; 
            transition: opacity 0.2s, visibility 0.2s; 
            z-index: 10;
        }
        .tooltip:hover::after, .tooltip:focus::after { 
            opacity: 1; 
            visibility: visible; 
        }
        .modal {
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            background: rgba(0, 0, 0, 0.6); 
            justify-content: center; 
            align-items: center; 
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }
        .modal.show { 
            display: flex; 
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.2s ease;
        }
        .modal.show .modal-content {
            transform: scale(1);
        }
        .past-deadline { 
            color: #DC2626; 
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background: #F9FAFB;
            min-width: 220px;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            z-index: 1000;
            top: 100%;
            right: 0;
            scrollbar-width: thin;
            scrollbar-color: #F57C00 #E8F0FE;
        }
        .dropdown-content a {
            color: #4B5EAA;
            padding: 12px 16px;
            display: block;
            font-weight: 400;
            text-decoration: none;
            transition: background 0.2s ease, color 0.2s ease;
        }
        .dropdown:hover .dropdown-content, .dropdown:focus-within .dropdown-content {
            display: block;
        }
        .dropdown-content a:hover {
            background: #E8F0FE;
            color: #F57C00;
        }
        /* Improved FAQ Accordion Style */
        .faq-item h3 {
            position: relative;
            padding: 15px 20px;
            background: #EFF6FF; /* Light blue background for question */
            border-radius: 6px;
            margin-bottom: 5px;
            transition: background 0.2s;
        }
        .faq-item h3:hover {
            background: #E0EEFF;
        }
        .faq-item p {
            max-height: 0;
            overflow: hidden;
            padding: 0 20px;
            transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out;
            color: #4B5EAA;
            line-height: 1.6;
        }
        .faq-item.active p {
            max-height: 500px; /* Sufficiently large to reveal content */
            padding: 15px 20px 20px;
        }
        .faq-item .icon {
            float: right;
            transform: rotate(0deg);
            transition: transform 0.3s ease;
        }
        .faq-item.active .icon {
            transform: rotate(180deg);
        }
        
        /* New Styles for Calculator Section */
        #calculatorSection {
            background: #FFFFFF;
            border: 2px solid #2A3EB1;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) { 
            .chart-container { 
                max-width: 100%; 
                height: 250px; 
                max-height: 250px; 
            }
            .dropdown-content {
                min-width: 180px;
                max-height: 250px;
            }
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Capital Gains Tax Calculator 2025-26 (LTCG/STCG) India - Free",
      "description": "Free Capital Gains Tax Calculator for FY 2025-26 (AY 2026-27) India ‚úì Equity, Property, Mutual Funds & Bonds ‚úì Budget 2025 rates, Indexation, Section 54/54EC/54F exemptions ‚úì Instant results",
      "url": "https://moneymindtool.com/capital-gains.html",
      "applicationCategory": "Financial",
      "operatingSystem": "All",
      "offers": { "@type": "Offer", "price": "0", "priceCurrency": "INR" }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is the LTCG tax rate for FY 2025-26?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For equities and mutual funds, LTCG is taxed at 12.5% above ‚Çπ1.35 lakh. For property, it‚Äôs 20% with indexation or 12.5% without, per Budget 2025. Bonds are taxed at 12.5%."
          }
        },
        {
          "@type": "Question",
          "name": "What is the STCG tax rate for FY 2025-26?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "STCG on equities and mutual funds is taxed at 20%. For property and bonds, it‚Äôs taxed at your income tax slab rate."
          }
        },
        {
          "@type": "Question",
          "name": "Can I claim exemptions on capital gains?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, under Section 54 (property reinvestment), 54EC (bonds, up to ‚Çπ50 lakh), or 54F (net proceeds reinvested), subject to conditions."
          }
        },
        {
          "@type": "Question",
          "name": "What is indexation in capital gains?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Indexation adjusts the purchase cost of property for inflation using the Cost Inflation Index (CII), reducing taxable gains. Available for property sold after July 23, 2024. The formula for the Indexed Cost of Acquisition is: Indexed Cost = Purchase Cost √ó (CII of Sale Year / CII of Purchase Year)."
          }
        },
        {
          "@type": "Question",
          "name": "When is the ITR filing deadline for FY 2025-26?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "July 31, 2026, for non-audit cases. Late filing incurs a ‚Çπ5,000 penalty under Section 234F."
          }
        }
      ]
    }
    </script>
</head>
<body class="text-gray-800">

    <header class="sticky top-0 z-50 bg-indigo-900 text-white">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="https://moneymindtool.com/" class="text-2xl font-bold hover:text-orange-400">MoneyMindTool</a>
            <nav class="flex space-x-6">
                <a href="https://moneymindtool.com/" class="hidden sm:inline hover:text-orange-400">Home</a>
                <div class="relative dropdown">
                    <a href="https://moneymindtool.com/all-calculators" class="text-white hover:text-orange-500 font-medium" aria-expanded="false">
                        Calculators
                        <i class="fas fa-caret-down ml-1 text-sm"></i>
                    </a>
                    <div class="dropdown-content">
                        <a href="https://moneymindtool.com/capital-gains.html" class="bg-indigo-50 font-bold text-orange-600">Capital Gains Calculator</a>
                        <a href="https://moneymindtool.com/income-tax.html">Income Tax Calculator</a>
                        <a href="https://moneymindtool.com/sip.html">SIP Calculator</a>
                        <a href="https://moneymindtool.com/home-loan.html">Home EMI Calculator</a>
                        <a href="https://moneymindtool.com/ppf.html">PPF Calculator</a>
                        <a href="https://moneymindtool.com/all-calculators">View All Tools</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <section class="mb-8 text-center">
            <h1 class="text-4xl font-extrabold text-indigo-900 mb-4">
                üí∞ India Capital Gains Tax Calculator for FY 2025-26 (AY 2026-27)
            </h1>
            <p class="text-xl text-gray-600 mb-6">
                Calculate your LTCG/STCG liability instantly on **Equity, Property, Mutual Funds & Bonds** with the latest **Budget 2025** rates and exemptions.
            </p>
             <button onclick="document.getElementById('assetType').focus()" class="bg-orange-600 text-white px-8 py-3 text-lg font-semibold rounded-lg shadow-lg hover:bg-orange-700 transition-all duration-200" aria-label="Start Calculating Capital Gains Tax">
                Start Calculating Now <i class="fas fa-arrow-down ml-2"></i>
            </button>
        </section>

        <section id="calculatorSection" class="rounded-xl shadow-2xl p-8 mb-10 border-4 border-indigo-700">
            <h2 class="text-2xl font-bold text-indigo-900 mb-4 text-center">Free & Instant Capital Gains Tax Computation Tool</h2>
            <div class="w-full bg-indigo-100 rounded-full h-2 mb-6">
                <div id="taxProgress" class="bg-orange-500 h-2 rounded-full transition-all duration-500" style="width: 0;"></div>
            </div>
            
            <div id="errorMessage" class="bg-red-100 text-red-700 border border-red-300 rounded-lg p-3 hidden mb-4 text-sm font-medium" role="alert"></div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-indigo-50 p-4 rounded-lg">
                    <h3 class="font-bold text-indigo-800 mb-3 border-b pb-2 border-indigo-200">Asset & Cost Details</h3>
                    <div>
                        <label for="assetType" class="block text-gray-800 font-medium mb-1">Asset Type: <span class="tooltip" data-tooltip="Select the type of asset sold. Determines the holding period for LTCG/STCG." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        <select id="assetType" class="w-full p-3 border border-indigo-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 bg-white shadow-sm" aria-label="Select Asset Type">
                            <option value="equity">Equity Shares/Equity Mutual Funds</option>
                            <option value="property">Residential Property/Land</option>
                            <option value="bonds">Debt Mutual Funds/Bonds/Jewelry</option>
                        </select>
                    </div>
                    <div class="mt-4">
                        <label for="purchaseCost" class="block text-gray-800 font-medium mb-1">Purchase Cost (‚Çπ): <span class="tooltip" data-tooltip="Original cost of acquiring the asset. Enter net cost after all adjustments." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        <input type="number" id="purchaseCost" min="0" value="100000" class="w-full p-3 border border-indigo-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 shadow-sm" aria-label="Purchase Cost in Rupees">
                    </div>
                    <div class="mt-4">
                        <label for="saleValue" class="block text-gray-800 font-medium mb-1">Sale Value (‚Çπ): <span class="tooltip" data-tooltip="Total amount received from asset sale (Gross Consideration)." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        <input type="number" id="saleValue" min="0" value="200000" class="w-full p-3 border border-indigo-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 shadow-sm" aria-label="Sale Value in Rupees">
                    </div>
                </div>
                
                <div class="bg-indigo-50 p-4 rounded-lg">
                    <h3 class="font-bold text-indigo-800 mb-3 border-b pb-2 border-indigo-200">Dates & Exemptions</h3>
                    <div>
                        <label for="purchaseDate" class="block text-gray-800 font-medium mb-1">Purchase Date: <span class="tooltip" data-tooltip="Date of asset acquisition." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        <input type="date" id="purchaseDate" value="2022-04-01" max="2025-06-30" class="w-full p-3 border border-indigo-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 shadow-sm" aria-label="Purchase Date">
                    </div>
                    <div class="mt-4">
                        <label for="saleDate" class="block text-gray-800 font-medium mb-1">Sale Date (FY 2025-26): <span class="tooltip" data-tooltip="Date of asset sale. Must be between 01/04/2025 and 31/03/2026." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        <input type="date" id="saleDate" value="2025-09-21" max="2026-03-31" class="w-full p-3 border border-indigo-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 shadow-sm" aria-label="Sale Date">
                    </div>
                    <div class="mt-4">
                        <label for="exemption" class="block text-gray-800 font-medium mb-1">Exemption Amount (‚Çπ): <span class="tooltip" data-tooltip="Reinvestment in new property (Sec 54) or bonds (Sec 54EC). Max ‚Çπ50 lakh for 54EC." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        <input type="number" id="exemption" min="0" value="0" class="w-full p-3 border border-indigo-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 shadow-sm" aria-label="Exemption Amount in Rupees">
                    </div>
                    <div class="mt-4 flex items-center justify-between">
                        <div class="flex-grow">
                            <label for="indexation" class="text-gray-800 font-medium">Apply Indexation: <span class="tooltip" data-tooltip="Available for LTCG on Property (sold post July 23, 2024) and Non-Equity assets (post 31/03/2023)." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        </div>
                        <input type="checkbox" id="indexation" class="p-2 h-5 w-5 border-indigo-300 rounded text-orange-600 focus:ring-orange-500 disabled:opacity-50" disabled aria-label="Apply Indexation for Long-Term Gains">
                    </div>
                    <div class="mt-4">
                        <label for="totalIncome" class="block text-gray-800 font-medium mb-1">Other Total Income (‚Çπ): <span class="tooltip" data-tooltip="Annual income excluding this capital gain. Used to calculate tax slab and surcharge." tabindex="0"><i class="fas fa-info-circle"></i></span></label>
                        <input type="number" id="totalIncome" min="0" value="1000000" class="w-full p-3 border border-indigo-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 shadow-sm" aria-label="Total Annual Income in Rupees">
                    </div>
                </div>
            </div>
            
            <div class="flex gap-4 mt-8 justify-center">
                <button id="calcButton" onclick="calculateCapitalGains()" class="bg-orange-600 text-white px-8 py-3 text-lg font-semibold rounded-lg shadow-lg hover:bg-orange-700 disabled:bg-gray-400 transition-all duration-200" disabled aria-label="Calculate Capital Gains Tax">
                    Calculate Tax <i class="fas fa-calculator ml-2"></i>
                </button>
                <button onclick="resetForm()" class="bg-gray-500 text-white px-8 py-3 text-lg font-semibold rounded-lg hover:bg-gray-600 transition-all duration-200" aria-label="Reset Form">
                    Reset
                </button>
            </div>
        </section>

        <section class="bg-white rounded-xl shadow-2xl p-8 mb-10 border-4 border-orange-200 hidden" id="resultsCard">
            <h2 class="text-2xl font-bold text-indigo-900 mb-6 text-center">‚úÖ Capital Gains Tax Result</h2>
            <div id="taxResult" class="text-gray-800 mb-6 text-center text-lg leading-relaxed border-b pb-4 border-indigo-100"></div>
            
            <div class="text-center bg-indigo-50 p-4 rounded-lg mb-6">
                <p class="text-3xl font-extrabold text-orange-700">
                    Total Tax Liability: <span id="finalTaxOutput">‚Çπ0.00</span>
                </p>
                <p class="text-sm text-gray-600 mt-1">(Includes Base Tax, Surcharge, and Health & Education Cess)</p>
            </div>

            <div class="chart-container">
                <canvas id="taxChart"></canvas>
            </div>

            <div class="text-center mt-6">
                <button onclick="document.getElementById('calculatorSection').scrollIntoView({ behavior: 'smooth' }); resetForm();" class="bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-all duration-200" aria-label="Calculate Again">
                    <i class="fas fa-sync-alt mr-2"></i> Calculate New Gain
                </button>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-8 border border-indigo-100">
            <h2 class="text-2xl font-bold text-indigo-900 mb-4">Capital Gains Tax Rates & Holding Period (FY 2025-26)</h2>
            <p class="text-gray-700 mb-6">The tax rate depends on the asset type and whether the gain is **Short-Term (STCG)** or **Long-Term (LTCG)**. Here are the key distinctions for the Financial Year 2025-26 (AY 2026-27):</p>

            <div class="overflow-x-auto">
                
                <table class="min-w-full divide-y divide-indigo-200 border border-indigo-200 rounded-lg">
                    <thead class="bg-indigo-100">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-semibold text-indigo-700 uppercase tracking-wider">Asset Type</th>
                            <th class="px-6 py-3 text-left text-xs font-semibold text-indigo-700 uppercase tracking-wider">Holding Period</th>
                            <th class="px-6 py-3 text-left text-xs font-semibold text-indigo-700 uppercase tracking-wider">Tax Type</th>
                            <th class="px-6 py-3 text-left text-xs font-semibold text-indigo-700 uppercase tracking-wider">Applicable Rate (Plus Cess/Surcharge)</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-indigo-100">
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">Equity Shares & Equity MFs (STT Paid)</td>
                            <td class="px-6 py-4 whitespace-nowrap">Up to 12 months</td>
                            <td class="px-6 py-4 whitespace-nowrap font-bold text-orange-600">STCG</td>
                            <td class="px-6 py-4 whitespace-nowrap">20% (Flat Rate)</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">Equity Shares & Equity MFs (STT Paid)</td>
                            <td class="px-6 py-4 whitespace-nowrap">More than 12 months</td>
                            <td class="px-6 py-4 whitespace-nowrap font-bold text-indigo-700">LTCG</td>
                            <td class="px-6 py-4 whitespace-nowrap">12.5% on gains exceeding ‚Çπ1.35 Lakh</td>
                        </tr>
                        <tr class="bg-gray-50">
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">Residential Property/Land</td>
                            <td class="px-6 py-4 whitespace-nowrap">Up to 24 months</td>
                            <td class="px-6 py-4 whitespace-nowrap font-bold text-orange-600">STCG</td>
                            <td class="px-6 py-4 whitespace-nowrap">As per Income Tax Slab Rate</td>
                        </tr>
                        <tr class="bg-gray-50">
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">Residential Property/Land</td>
                            <td class="px-6 py-4 whitespace-nowrap">More than 24 months</td>
                            <td class="px-6 py-4 whitespace-nowrap font-bold text-indigo-700">LTCG</td>
                            <td class="px-6 py-4 whitespace-nowrap">20% with Indexation **OR** 12.5% without Indexation (Budget 2025)</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">Bonds, Debt Funds, Jewellery</td>
                            <td class="px-6 py-4 whitespace-nowrap">More than 24 months</td>
                            <td class="px-6 py-4 whitespace-nowrap font-bold text-indigo-700">LTCG</td>
                            <td class="px-6 py-4 whitespace-nowrap">12.5% (Flat Rate)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3 class="text-xl font-bold text-indigo-900 mt-6 mb-2">Understanding Indexation</h3>
            <p class="text-gray-700">Indexation is a powerful mechanism available for LTCG (mostly non-equity assets) that adjusts the **Cost of Acquisition** for inflation using the **Cost Inflation Index (CII)**, thereby reducing your taxable gain. It is generally available for property sold after July 23, 2024 (as per new rules) and other non-equity assets held long-term.</p>
            <blockquote class="bg-indigo-50 border-l-4 border-orange-500 text-gray-800 p-4 mt-4 rounded-md">
                <p class="font-mono text-sm">
                    $$
                    \text{Indexed Cost} = \text{Purchase Cost} \times \left(\frac{\text{CII of Sale Year}}{\text{CII of Purchase Year}}\right)
                    $$
                </p>
            </blockquote>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-8 border border-indigo-100">
            <h2 class="text-2xl font-bold text-indigo-900 mb-4">Smart Tax Planning: Tips to Minimize Your Capital Gains Liability</h2>
            <p class="text-gray-700 mb-4">Leveraging specified sections under the Income Tax Act allows you to save significant tax by reinvesting your capital gains:</p>
            <ul class="list-disc pl-6 text-gray-700 space-y-3">
                <li>
                    <strong>Section 54 (Property Reinvestment):</strong> You can claim a full or partial exemption on **LTCG from selling a residential house** if you reinvest the gain into **purchasing or constructing another residential house** within specified time limits (usually 2 years before or 1 year after the sale).
                </li>
                <li>
                    <strong>Section 54EC (Capital Gains Bonds):</strong> This is a key provision to save tax on **LTCG from land or building** sale. By investing the capital gain (up to **‚Çπ50 lakh**) into specified long-term bonds (like NHAI or REC bonds) within six months of the transfer, you can claim a corresponding exemption.
                </li>
                <li>
                    <strong>Section 54F (Reinvesting Net Proceeds):</strong> This allows exemption on **LTCG from selling any asset other than a residential house** (e.g., gold, mutual funds, or commercial property) by reinvesting the **net sale consideration** into a new residential property.
                </li>
            </ul>
        </section>
        
        <section class="bg-white rounded-lg shadow-md p-6 mb-8 border border-indigo-100">
            <h2 class="text-xl font-semibold text-indigo-900 mb-4 text-center">Tax Filing Deadlines (2025-26)</h2>
            <div class="text-center">
                <span class="toggle-deadlines text-indigo-900 cursor-pointer hover:text-orange-500 block mb-3 font-semibold" tabindex="0" role="button">
                    Show Deadlines <i class="fas fa-chevron-down ml-2"></i>
                </span>
            </div>
            <div id="deadlinesList" class="hidden text-gray-700 max-w-xl mx-auto">
                <ul class="list-disc pl-5 space-y-2">
                    <li id="past-advance-tax">
                        <strong>Advance Tax (Final, FY 2024-25)</strong>: Due March 15, 2025. <span class="penalty text-red-600">Penalty: 1% interest per month under Section 234C.</span>
                    </li>
                    <li>
                        <strong>ITR Filing (Non-Audit, FY 2025-26)</strong>: July 31, 2026. File online at <a href="https://www.incometax.gov.in" target="_blank" class="text-indigo-700 hover:text-orange-500 font-medium">incometax.gov.in</a>.
                    </li>
                    <li>
                        <strong>Tax Audit Case Filing (FY 2025-26)</strong>: September 30, 2026.
                    </li>
                </ul>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold text-indigo-900 text-center mb-6">Frequently Asked Questions (FAQs)</h2>
            <div class="space-y-3">
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">
                        What is the LTCG tax rate for FY 2025-26?
                        <i class="fas fa-chevron-down icon"></i>
                    </h3>
                    <p class="text-gray-600">For equities and mutual funds, LTCG is taxed at **12.5%** above ‚Çπ1.35 lakh. For property, it‚Äôs **20%** with indexation or **12.5%** without, per Budget 2025. Bonds and other long-term assets are taxed at a flat **12.5%**.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">
                        What is the STCG tax rate for FY 2025-26?
                        <i class="fas fa-chevron-down icon"></i>
                    </h3>
                    <p class="text-gray-600">STCG on equities and equity mutual funds is taxed at a flat **20%**. For property, bonds, and other non-equity assets, the STCG is taxed at your applicable **income tax slab rate**.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">
                        Can I claim exemptions on capital gains?
                        <i class="fas fa-chevron-down icon"></i>
                    </h3>
                    <p class="text-gray-600">Yes, you can claim exemptions by reinvesting your gains: **Section 54** (reinvestment into residential property from property sale), **54EC** (reinvestment into specified bonds, up to ‚Çπ50 lakh), or **54F** (reinvestment of net sale proceeds into residential property from sale of other assets). All are subject to conditions and timelines.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">
                        What is indexation in capital gains?
                        <i class="fas fa-chevron-down icon"></i>
                    </h3>
                    <p class="text-gray-600">Indexation is a method to adjust the purchase cost of an asset for inflation using the **Cost Inflation Index (CII)**, thereby reducing the taxable capital gain. It is generally available for LTCG on non-equity assets. The benefit for property sold after July 23, 2024 now allows a choice between the indexed 20% rate or a flat 12.5% rate without indexation.</p>
                </div>
                <div class="faq-item">
                    <h3 class="text-lg font-semibold text-indigo-900 cursor-pointer">
                        When is the ITR filing deadline for FY 2025-26?
                        <i class="fas fa-chevron-down icon"></i>
                    </h3>
                    <p class="text-gray-600">The primary ITR filing deadline for non-audit cases (FY 2025-26 / AY 2026-27) is **July 31, 2026**. Filing after this date incurs a penalty under Section 234F (up to ‚Çπ5,000).</p>
                </div>
            </div>
        </section>
        
        <section class="bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-50">
            <h2 class="text-xl font-semibold text-indigo-900 mb-4">Latest Tax Updates for FY 2025-26 (Budget 2025)</h2>
            <p class="text-gray-700">Budget 2025 introduced key changes to capital gains tax: the revised LTCG exemption limit of **‚Çπ1.35 lakh** for equities/mutual funds, and the optional **12.5% flat rate** for property LTCG (without indexation). Always refer to the official notification on <a href="https://www.incometax.gov.in" target="_blank" class="text-indigo-900 hover:text-orange-500 font-medium">incometax.gov.in</a>.</p>
            <p class="text-gray-600 mt-3 text-sm">Last updated: September 21, 2025</p>
        </section>
    </main>

    <div id="disclaimerModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full relative">
            <span class="close absolute top-2 right-4 text-3xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('disclaimerModal')" aria-label="Close Disclaimer Modal">√ó</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Disclaimer</h3>
            <p class="text-gray-600">This calculator is for informational purposes only. Results are estimates and may not account for all tax rules, exemptions, or circumstances. Consult a tax advisor for accurate calculations.</p>
        </div>
    </div>
    <div id="privacyModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full relative">
            <span class="close absolute top-2 right-4 text-3xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('privacyModal')" aria-label="Close Privacy Modal">√ó</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Privacy Policy</h3>
            <p class="text-gray-600">This Privacy Policy outlines how we collect, use, and protect your information on moneymindtool.com. We do not collect personal data unless voluntarily provided. Usage statistics and cookie-based analytics may be collected to improve user experience. We do not share your information with third parties except where required by law. By using our site, you consent to our Privacy Policy. We may update this policy from time to time without prior notice.</p>
        </div>
    </div>
    <div id="aboutModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full relative">
            <span class="close absolute top-2 right-4 text-3xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('aboutModal')" aria-label="Close About Modal">√ó</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">About Us</h3>
            <p class="text-gray-600">At MoneyMindTool, we are committed to helping individuals in India make informed financial decisions. Our free calculators are tailored for Indian users based on the latest financial year guidelines. We are a digital-first platform by DigiCreature Technologies aiming to simplify tax, investment, and loan planning for everyone.</p>
        </div>
    </div>
    <div id="contactModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full relative">
            <span class="close absolute top-2 right-4 text-3xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('contactModal')" aria-label="Close Contact Modal">√ó</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Contact Us</h3>
            <p class="text-gray-600">
                We'd love to hear from you!<br>
                üìß Email: <a href="mailto:support@moneymindtool.com" class="text-indigo-900 hover:text-orange-500">support@moneymindtool.com</a><br>
                üè¢ Company: DigiCreature Technologies<br>
                üìç Chennai, Tamil Nadu, India
            </p>
        </div>
    </div>
    <div id="termsModal" class="modal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full relative">
            <span class="close absolute top-2 right-4 text-3xl cursor-pointer text-gray-600 hover:text-orange-500" onclick="closeModal('termsModal')" aria-label="Close Terms Modal">√ó</span>
            <h3 class="text-xl font-semibold text-indigo-900 mb-2">Terms and Conditions</h3>
            <p class="text-gray-600">By using this website, you agree to these Terms and Conditions. Calculators are for personal, non-commercial use. You must provide accurate inputs; we are not responsible for errors due to incorrect data. The website and its content are owned by MoneyMindTool and protected by intellectual property laws. Usage is governed by Indian laws.</p>
        </div>
    </div>
    
    <footer class="bg-indigo-900 text-white text-center py-6">
        <div class="flex justify-center space-x-4 flex-wrap text-sm sm:text-base">
            <a href="https://moneymindtool.com/income-tax.html" class="hover:text-orange-500 my-1">Income Tax Calculator</a>
            <span class="hidden sm:inline">|</span>
            <a href="#" onclick="openModal('disclaimerModal')" class="hover:text-orange-500 my-1">Disclaimer</a>
            <span class="hidden sm:inline">|</span>
            <a href="#" onclick="openModal('termsModal')" class="hover:text-orange-500 my-1">Terms & Conditions</a>
            <span class="hidden sm:inline">|</span>
            <a href="#" onclick="openModal('privacyModal')" class="hover:text-orange-500 my-1">Privacy Policy</a>
            <span class="hidden sm:inline">|</span>
            <a href="#" onclick="openModal('aboutModal')" class="hover:text-orange-500 my-1">About Us</a>
            <span class="hidden sm:inline">|</span>
            <a href="#" onclick="openModal('contactModal')" class="hover:text-orange-500 my-1">Contact Us</a>
        </div>
        <p class="mt-2 text-sm">¬© 2025 DigiCreature Technologies. All Rights Reserved.</p>
    </footer>

    <script>
        // Simplified CII table (example values, replace with actual CII data)
        const ciiTable = {
            '2001': 100, '2002': 105, '2003': 109, '2004': 113, '2005': 117, '2006': 122,
            '2007': 129, '2008': 137, '2009': 148, '2010': 167, '2011': 184, '2012': 200,
            '2013': 220, '2014': 240, '2015': 254, '2016': 264, '2017': 272, '2018': 280,
            '2019': 289, '2020': 301, '2021': 317, '2022': 331, '2023': 348, '2024': 363,
            '2025': 375
        };

        // Chart.js configuration
        const chartConfig = {
            type: 'bar',
            data: {
                labels: ['Base Tax', 'Surcharge', 'Cess (4%)'],
                datasets: [{
                    label: 'Tax Breakdown (‚Çπ)',
                    data: [0, 0, 0],
                    backgroundColor: ['#2A3EB1', '#F57C00', '#10B981'],
                    borderColor: ['#FFFFFF', '#FFFFFF', '#FFFFFF'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { 
                        beginAtZero: true, 
                        title: { 
                            display: true, 
                            text: 'Amount (‚Çπ)', 
                            color: '#4B5EAA', 
                            font: { family: 'Inter' } 
                        } 
                    },
                    x: { 
                        title: { 
                            display: true, 
                            text: 'Tax Components', 
                            color: '#4B5EAA', 
                            font: { family: 'Inter' } 
                        } 
                    }
                },
                plugins: { 
                    legend: { display: false }, 
                    title: { 
                        display: true, 
                        text: 'Capital Gains Tax Breakdown', 
                        color: '#2A3EB1', 
                        font: { family: 'Inter', size: 16 } 
                    } 
                }
            }
        };

        let taxChart;
        window.onload = function() {
            const ctx = document.getElementById('taxChart')?.getContext('2d');
            if (ctx) taxChart = new Chart(ctx, chartConfig);
            updateDeadlines();
            updateProgress();
            validateInputs();
            toggleIndexation();
            document.querySelectorAll('input, select').forEach(input => {
                input?.addEventListener('input', () => { 
                    validateInputs(); 
                    updateProgress(); 
                    if (input.id === 'assetType' || input.id === 'saleDate') toggleIndexation();
                });
            });
            document.querySelectorAll('.toggle-deadlines').forEach(btn => {
                btn?.addEventListener('click', toggleDeadlines);
                btn?.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleDeadlines();
                    }
                });
            });
            // Improved FAQ Accordion Logic
            document.querySelectorAll('.faq-item h3').forEach(item => {
                item?.addEventListener('click', () => {
                    const faqItem = item.parentElement;
                    const wasActive = faqItem.classList.contains('active');
                    
                    // Close all others
                    document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));

                    if (!wasActive) {
                        faqItem.classList.add('active');
                    }

                    gtag('event', 'faq_toggle', { 
                        event_category: 'FAQ', 
                        event_label: item.textContent 
                    });
                });
            });

            document.getElementById('calcButton').addEventListener('click', () => {
                gtag('event', 'calculate_button_click', {
                    event_category: 'Calculator',
                    event_label: 'Capital Gains Calculate'
                });
            });
        };

        function formatIndianNumber(num) {
            if (isNaN(num) || num === null) return "0.00";
            let str = Number(num).toFixed(2).toString();
            let [intPart, decPart] = str.split('.');
            let lastThree = intPart.slice(-3);
            let otherDigits = intPart.slice(0, -3);
            if (otherDigits) lastThree = ',' + lastThree;
            let result = otherDigits.replace(/\B(?=(\d{2})+(?!\d))/g, ',') + lastThree;
            return result + '.' + decPart;
        }

        function updateProgress() {
            const inputs = ['assetType', 'purchaseCost', 'purchaseDate', 'saleValue', 'saleDate', 'totalIncome', 'exemption'];
            let filled = inputs.reduce((acc, id) => acc + (document.getElementById(id).value !== '' ? 1 : 0), 0);
            document.getElementById('taxProgress').style.width = `${(filled / inputs.length) * 100}%`;
        }

        function toggleIndexation() {
            const assetType = document.getElementById('assetType').value;
            const saleDateStr = document.getElementById('saleDate').value;
            const saleDate = saleDateStr ? new Date(saleDateStr) : null;
            const indexationCheckbox = document.getElementById('indexation');
            
            // Default: All non-equity assets qualify for indexation on LTCG (Holding period > 24 months)
            // Equity (LTCG > 12 months) does not use indexation (Sec 112A).
            const isNonEquity = assetType !== 'equity'; 
            
            // Special rule for Property sold post-July 23, 2024
            const isPropertyPostJuly2024 = assetType === 'property' && saleDate && saleDate >= new Date('2024-07-23');

            if (isNonEquity) {
                indexationCheckbox.disabled = false;
                // Auto-check indexation for non-equity by default as it's usually beneficial
                indexationCheckbox.checked = true; 
            } else {
                indexationCheckbox.disabled = true;
                indexationCheckbox.checked = false;
            }

            // Note: The actual calculation will check the holding period. This function only manages UI state.
        }

        function getCIIData(year) {
            return ciiTable[year] || 375; // Use 2025 CII if year is unknown/future
        }

        // New Tax Regime Slabs (FY 2025-26 - Assumed)
        function getIncomeTaxSlabRate(income) {
            if (income <= 300000) return 0;
            if (income <= 600000) return 0.05;
            if (income <= 900000) return 0.10;
            if (income <= 1200000) return 0.15;
            if (income <= 1500000) return 0.20;
            return 0.30;
        }

        function validateInputs() {
            const purchaseCost = parseFloat(document.getElementById('purchaseCost').value);
            const saleValue = parseFloat(document.getElementById('saleValue').value);
            const purchaseDate = document.getElementById('purchaseDate').value;
            const saleDate = document.getElementById('saleDate').value;
            const totalIncome = parseFloat(document.getElementById('totalIncome').value);
            const exemption = parseFloat(document.getElementById('exemption').value);
            
            const errorMessage = document.getElementById('errorMessage');
            const calcButton = document.getElementById('calcButton');
            const inputs = ['purchaseCost', 'saleValue', 'purchaseDate', 'saleDate', 'totalIncome', 'exemption'];
            
            inputs.forEach(id => document.getElementById(id)?.classList.remove('border-red-600'));
            errorMessage.style.display = 'none';
            errorMessage.innerHTML = '';

            let errors = [];
            
            if (isNaN(purchaseCost) || purchaseCost < 0) errors.push('Purchase Cost is required and must be non-negative.');
            if (isNaN(saleValue) || saleValue < 0) errors.push('Sale Value is required and must be non-negative.');
            if (!purchaseDate) errors.push('Purchase Date is required.');
            if (!saleDate) errors.push('Sale Date is required.');
            
            if (purchaseDate && saleDate && new Date(saleDate) <= new Date(purchaseDate)) {
                errors.push('Sale date must be after purchase date.');
            }
            if (isNaN(totalIncome) || totalIncome < 0) errors.push('Total Income is required and must be non-negative.');
            if (isNaN(exemption) || exemption < 0) errors.push('Exemption Amount must be non-negative.');
            if (exemption > saleValue) errors.push('Exemption amount cannot exceed sale value.');

            if (errors.length > 0) {
                errorMessage.innerHTML = '<i class="fas fa-exclamation-circle mr-2"></i>' + errors.join('<br>');
                errorMessage.style.display = 'block';
                calcButton.disabled = true;
                return false;
            }
            calcButton.disabled = false;
            return true;
        }

        function calculateCapitalGains() {
            if (!validateInputs()) return;

            const calcButton = document.getElementById('calcButton');
            calcButton.innerHTML = 'Calculating...';
            calcButton.classList.add('loading');
            calcButton.disabled = true;

            setTimeout(() => {
                const assetType = document.getElementById('assetType').value;
                const purchaseCost = parseFloat(document.getElementById('purchaseCost').value) || 0;
                const saleValue = parseFloat(document.getElementById('saleValue').value) || 0;
                const purchaseDate = new Date(document.getElementById('purchaseDate').value);
                const saleDate = new Date(document.getElementById('saleDate').value);
                const totalIncome = parseFloat(document.getElementById('totalIncome').value) || 0;
                const exemption = parseFloat(document.getElementById('exemption').value) || 0;
                const applyIndexation = document.getElementById('indexation').checked;

                const diffTime = Math.abs(saleDate.getTime() - purchaseDate.getTime());
                const holdingPeriod = diffTime / (1000 * 60 * 60 * 24 * 365.25); // Adjusted for leap years
                
                let isLTCG, ltcgThresholdDays;
                if (assetType === 'equity') {
                    ltcgThresholdDays = 365; // > 12 months for equity
                    isLTCG = diffTime > (ltcgThresholdDays * 24 * 60 * 60 * 1000);
                } else {
                    ltcgThresholdDays = 730; // > 24 months for property, bonds, etc.
                    isLTCG = diffTime > (ltcgThresholdDays * 24 * 60 * 60 * 1000);
                }

                let gain = saleValue - purchaseCost;
                let costUsed = purchaseCost;
                let indexedCost = purchaseCost;
                
                // 1. Calculate Indexed Cost
                if (isLTCG && applyIndexation && assetType !== 'equity') {
                    const purchaseYear = purchaseDate.getFullYear().toString();
                    const saleYear = saleDate.getFullYear().toString();
                    const ciiPurchase = getCIIData(purchaseYear);
                    const ciiSale = getCIIData(saleYear);
                    indexedCost = purchaseCost * (ciiSale / ciiPurchase);
                    costUsed = indexedCost;
                    gain = saleValue - indexedCost;
                }
                
                gain = Math.max(0, gain);
                const exemptionApplied = Math.min(exemption, gain);
                const taxableGain = Math.max(0, gain - exemption);

                // 2. Determine Tax Rate
                let taxRate = 0;
                let gainType = isLTCG ? 'LTCG' : 'STCG';
                let taxNote = '';

                if (isLTCG) {
                    if (assetType === 'equity') {
                        // LTCG on Equity: 12.5% on gains > ‚Çπ1.35 Lakh (Sec 112A + Budget 2025)
                        const exemptGain = Math.min(135000, taxableGain);
                        const taxableAboveLimit = Math.max(0, taxableGain - 135000);
                        baseTax = taxableAboveLimit * 0.125;
                        taxRate = 0.125;
                        taxNote = `12.5% applied on gain exceeding ‚Çπ1.35 Lakh (Sec 112A)`;
                    } else if (assetType === 'property' && applyIndexation) {
                        // LTCG on Property with Indexation: 20% (Sec 112)
                        taxRate = 0.20;
                        baseTax = taxableGain * taxRate;
                        taxNote = `20% applied after Indexation (Sec 112)`;
                    } else if (assetType === 'property' && !applyIndexation) {
                        // LTCG on Property without Indexation: 12.5% (Budget 2025 - Optional)
                        taxRate = 0.125;
                        baseTax = taxableGain * taxRate;
                        taxNote = `12.5% applied without Indexation (Budget 2025 option)`;
                    } else {
                        // LTCG on Bonds/Debt Funds/Others: 12.5% (Budget 2025)
                        taxRate = 0.125;
                        baseTax = taxableGain * taxRate;
                        taxNote = `12.5% applied on flat gain (Budget 2025)`;
                    }
                } else { // STCG
                    if (assetType === 'equity') {
                        // STCG on Equity: 20% (Sec 111A + Budget 2025 - assumed revision)
                        taxRate = 0.20;
                        baseTax = taxableGain * taxRate;
                        taxNote = `20% applied on flat gain (Sec 111A)`;
                    } else {
                        // STCG on Property/Bonds/Others: Slab Rate
                        const slabRate = getIncomeTaxSlabRate(totalIncome + taxableGain);
                        taxRate = slabRate;
                        baseTax = taxableGain * taxRate;
                        taxNote = `Taxed at Income Tax Slab Rate (Up to 30%)`;
                    }
                }
                
                // 3. Calculate Surcharge
                let surchargeRate = 0;
                if (totalIncome + taxableGain > 5000000 && totalIncome + taxableGain <= 10000000) surchargeRate = 0.10;
                if (totalIncome + taxableGain > 10000000 && totalIncome + taxableGain <= 20000000) surchargeRate = 0.15;
                // Note: Marginal relief logic for surcharge is complex and omitted for simplicity in this calculator.
                const surcharge = baseTax * surchargeRate;

                // 4. Calculate Cess
                const cess = (baseTax + surcharge) * 0.04;
                const totalTax = baseTax + surcharge + cess;

                // 5. Update Results UI
                document.getElementById('taxResult').innerHTML = `
                    <div class="grid grid-cols-2 text-left gap-2">
                        <div><strong>Asset Holding Period:</strong></div>
                        <div class="font-medium">${holdingPeriod.toFixed(2)} Years (${gainType})</div>
                        
                        <div><strong>Original Purchase Cost:</strong></div>
                        <div class="font-medium">‚Çπ${formatIndianNumber(purchaseCost)}</div>
                        
                        <div><strong>Adjusted Cost (Indexation):</strong></div>
                        <div class="font-medium text-indigo-700">‚Çπ${formatIndianNumber(costUsed)}</div>
                        
                        <div><strong>Total Capital Gain:</strong></div>
                        <div class="font-bold text-green-700">‚Çπ${formatIndianNumber(gain)}</div>
                        
                        <div><strong>Exemption Claimed:</strong></div>
                        <div class="font-bold text-red-600">‚Çπ${formatIndianNumber(exemptionApplied)}</div>

                        <div><strong>Taxable Capital Gain:</strong></div>
                        <div class="font-bold text-indigo-700 border-t pt-2 mt-2 border-indigo-200">‚Çπ${formatIndianNumber(taxableGain)}</div>
                    </div>
                    <div class="mt-4 border-t pt-4">
                        <p class="font-medium text-sm text-gray-600">Tax Basis: ${(taxRate * 100).toFixed(2)}% rate applied. ${taxNote}</p>
                    </div>
                `;
                document.getElementById('finalTaxOutput').textContent = `‚Çπ${formatIndianNumber(totalTax)}`;
                document.getElementById('resultsCard').classList.remove('hidden');

                // Update Chart
                taxChart.data.datasets[0].data = [baseTax, surcharge, cess];
                taxChart.update();

                // Restore Button State
                calcButton.innerHTML = 'Calculate Tax <i class="fas fa-calculator ml-2"></i>';
                calcButton.classList.remove('loading');
                calcButton.disabled = false;
                
                document.getElementById('resultsCard').scrollIntoView({ behavior: 'smooth' });

                gtag('event', 'calculate_capital_gains', { 
                    event_category: 'CapitalGains', 
                    event_label: `Calculate ${gainType}` 
                });
            }, 500); // Small delay for UX
        }

        function resetForm() {
            document.getElementById('assetType').value = 'equity';
            document.getElementById('purchaseCost').value = '100000';
            document.getElementById('purchaseDate').value = '2022-04-01';
            document.getElementById('saleValue').value = '200000';
            document.getElementById('saleDate').value = '2025-09-21';
            document.getElementById('totalIncome').value = '1000000';
            document.getElementById('exemption').value = '0';
            document.getElementById('indexation').checked = false;
            document.getElementById('indexation').disabled = true;
            document.getElementById('taxResult').innerHTML = '';
            document.getElementById('finalTaxOutput').textContent = '‚Çπ0.00';
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('resultsCard').classList.add('hidden');
            taxChart.data.datasets[0].data = [0, 0, 0];
            taxChart.update();
            updateProgress();
            validateInputs();
            toggleIndexation();
        }

        function updateDeadlines() {
            const today = new Date();
            const advanceTaxDue = new Date('2025-03-15');
            if (today > advanceTaxDue) {
                const pastLi = document.getElementById('past-advance-tax');
                pastLi.classList.add('past-deadline');
                pastLi.innerHTML = '<strong>Advance Tax (Final, FY 2024-25)</strong>: Deadline **passed** (March 15, 2025). <span class="penalty text-red-600">Penalty: 1% interest per month under Section 234C.</span>';
            }
        }

        function toggleDeadlines() {
            const deadlinesList = document.getElementById('deadlinesList');
            const toggleBtn = document.querySelector('.toggle-deadlines');
            const icon = toggleBtn.querySelector('.icon');

            if (deadlinesList.classList.contains('hidden')) {
                // Show
                deadlinesList.classList.remove('hidden');
                toggleBtn.innerHTML = `Hide Deadlines <i class="fas fa-chevron-up ml-2"></i>`;
            } else {
                // Hide
                deadlinesList.classList.add('hidden');
                toggleBtn.innerHTML = `Show Deadlines <i class="fas fa-chevron-down ml-2"></i>`;
            }
            gtag('event', 'toggle_deadlines', { 
                event_category: 'Deadlines', 
                event_label: 'Capital Gains Deadlines' 
            });
        }

        function openModal(modalId) { 
            document.getElementById(modalId).classList.add('show'); 
        }
        function closeModal(modalId) { 
            document.getElementById(modalId).classList.remove('show'); 
        }
    </script>
</body>
</html>